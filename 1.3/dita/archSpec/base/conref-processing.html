---
# Generated from DITA source
layout: base.njk
title: 'Processing conrefs'
description: 'When processing content references, DITA processors compare the restrictions of each context to ensure that the conrefed content is valid in its new context.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: '1ef1836fa5adc371402b2e9d6b31fef551ef88ff'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="col-lg-3" role="toc"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction to DITA 1.3</a></li><li><a href="../../archSpec/archSpec-learningTraining.html">Architectural specification: All-inclusive edition </a><ul class="nav nav-list"><li><a href="../../archSpec/base/introduction-to-dita.html">Introduction to DITA</a></li><li><a href="../../archSpec/base/ditamarkup.html">DITA markup </a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/navigation.html">Navigation</a></li><li><a href="../../archSpec/base/conref.html">Content reference (conref)</a><ul class="nav nav-list"><li><a href="../../archSpec/base/conref-overview.html">Conref overview</a></li><li class="active"><a href="../../archSpec/base/conref-processing.html">Processing conrefs</a></li><li><a href="../../archSpec/base/conref-attributes-specified-on-elements.html">Processing attributes when resolving conrefs</a></li><li><a href="../../archSpec/base/handling-xref-and-conref-within-topics.html">Processing xrefs and conrefs within a conref</a></li></ul></li><li><a href="../../archSpec/base/condproc.html">Conditional processing (profiling)</a></li><li><a href="../../archSpec/base/branch-filtering.html">Branch filtering</a></li><li><a href="../../archSpec/base/chunking.html">Chunking</a></li><li><a href="../../archSpec/base/translation.html">Translation and localization</a></li><li><a href="../../archSpec/base/module-compatibility.html">Processing documents with different values of the domains attribute</a></li><li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li></ul></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration, specialization, generalization, and constraints </a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../archSpec/technicalContent/technical-content-specializations.html">Technical content specializations</a></li><li><a href="../../archSpec/learningTraining/learning-and-training-specializations.html">Learning and training specializations</a></li></ul></li><li><a href="../../langRef/langRef-learningTraining.html">Language reference: All-inclusive edition</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/non-normative-information.html">Non-normative information</a></li><li><a href="../../contentmodels/cmlt.html">Content models for learning and training package</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
 <h1 class="title topictitle1" id="ariaid-title1"><span class="ph">Processing conrefs</span></h1>


 <div class="body conbody"><p class="shortdesc">When processing content references, DITA processors compare the
  restrictions of each context to ensure that the conrefed content is valid in its new
  context.</p>
  <p class="p"><span class="ph">Except where allowed by weak constraints,</span> a conref processor
    <dfn class="term RFC-2119">MUST NOT</dfn> permit resolution of a reuse
   relationship that could be rendered invalid under the rules of either the reused or reusing
   content.</p>

  <div class="note note note_note non-normative"><span class="note__title">Note:</span> The DITA <code class="keyword markupname xmlatt">@conref</code> attribute <span class="ph">is</span> a transclusion
   mechanism similar to XInclude and to HyTime value references. DITA differs from these mechanisms,
   however, in that conref validity does not apply simply to the current content at the time of
   replacement, but to the possible content given the restrictions of both the referencing document
   type and the referenced document type.</div>
  <p class="p">When pulling content with the conref mechanism, if the referenced element is the same type as
   the referencing element, and the <span class="ph">set</span> of domains declared on the
    <code class="keyword markupname xmlatt">@domains</code> attribute in the referenced topic or map instance is the same as or a
   subset of the domains declared in the referencing document, the element set allowed in the
   referenced element is guaranteed to be the same as, or a subset of, the element set allowed in
   the referencing element.</p>
  <p class="p">When pushing content with the conref mechanism, the domain checking algorithm is reversed. In
   this case, if the set of domains declared on the <code class="keyword markupname xmlatt">@domains</code> attribute in the
   referencing topic or map instance is the same as or a subset of the domains declared in the
   referenced document, the element set allowed in the pushed content is guaranteed to be the same
   as, or a subset of, the element set allowed in the new location.</p>
  <p class="p">In both cases, processors resolving conrefs <dfn class="term RFC-2119">SHOULD</dfn> tolerate specializations of valid elements and generalize
   elements in the pushed or pulled content fragment as needed for the resolving context.</p>

 </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/conref.html" title="The DITA conref attributes provide mechanisms for reusing content. DITA content references support reuse scenarios that are difficult or impossible to implement using other XML-based inclusion mechanisms like XInclude and entities. Additionally, DITA content references have rules that help ensure that the results of content inclusion remain valid after resolution">Content reference (conref)</a></div></div><div class="linklist relconcepts"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="../../archSpec/base/specialization-domains-attribute.html" title="The domains attribute enables processors to determine whether two elements or two documents use compatible domains. The attribute is declared on the root element for each topic or map type. Each structural, domain, and constraint module defines its ancestry as a parenthesized sequence of space-separated module names; the effective value of the domains attribute is composed of these parenthesized sequences.">domains attribute rules and syntax</a></li></ul></div></nav></article></main>
