---
layout: base.njk
title: 'Branch filtering'
description: 'The branch filtering mechanism enables map authors to set filtering conditions for specific branches of a map. This makes it possible for multiple conditional-processing profiles to be applied within a single publication.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: '1ef1836fa5adc371402b2e9d6b31fef551ef88ff'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="col-lg-3" role="toc"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction to DITA 1.3</a></li><li><a href="../../archSpec/archSpec-learningTraining.html">Architectural specification: All-inclusive edition </a><ul class="nav nav-list"><li><a href="../../archSpec/base/introduction-to-dita.html">Introduction to DITA</a></li><li><a href="../../archSpec/base/ditamarkup.html">DITA markup </a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/navigation.html">Navigation</a></li><li><a href="../../archSpec/base/conref.html">Content reference (conref)</a></li><li><a href="../../archSpec/base/condproc.html">Conditional processing (profiling)</a></li><li class="active"><a href="../../archSpec/base/branch-filtering.html">Branch filtering</a><ul class="nav nav-list"><li><a href="../../archSpec/base/branch-filtering-overview.html">Overview of branch filtering</a></li><li><a href="../../archSpec/base/branch-filtering-single-set.html">Branch filtering: Single condition set for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-multiple-sets.html">Branch filtering: Multiple condition sets for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-resource-names.html">Branch filtering: Impact on resource and key names</a></li><li><a href="../../archSpec/base/branch-filtering-implications-of-processing-order.html">Branch filtering: Implications of processing order</a></li><li><a href="../../archSpec/base/examples-of-branch-filter.html">Examples of branch filtering</a></li></ul></li><li><a href="../../archSpec/base/chunking.html">Chunking</a></li><li><a href="../../archSpec/base/translation.html">Translation and localization</a></li><li><a href="../../archSpec/base/module-compatibility.html">Processing documents with different values of the domains attribute</a></li><li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li></ul></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration, specialization, generalization, and constraints </a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../archSpec/technicalContent/technical-content-specializations.html">Technical content specializations</a></li><li><a href="../../archSpec/learningTraining/learning-and-training-specializations.html">Learning and training specializations</a></li></ul></li><li><a href="../../langRef/langRef-learningTraining.html">Language reference: All-inclusive edition</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/non-normative-information.html">Non-normative information</a></li><li><a href="../../contentmodels/cmlt.html">Content models for learning and training package</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Branch filtering</h1>

  <div class="body conbody"><p class="shortdesc">The branch filtering mechanism enables map authors to set
    filtering conditions for specific branches of a map. This makes it possible for multiple
    conditional-processing profiles to be applied within a <span class="ph">single</span>
    publication.</p>
    <p class="p"><span class="ph">Without the branch filtering mechanism, the
        conditions specified in a DITAVAL document are applied globally. With branch filtering, the
          <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element specifies a DITAVAL document that can be
        applied to a subset of content; the location of the <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code>
        element determines the content to which filtering conditions are applied.</span> The filtering
      conditions then are used to filter the map branch itself (map elements used to create the
      branch), as well as the local maps or topics that are referenced by that branch.</p>
    <p class="p">The <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element also provides the
      ability to process a single branch of content multiple times, applying unique conditions to
      each instance of the branch. </p>

  </div>
<nav role="navigation" class="related-links"><ul class="ullinks"><li class="link ulchildlink"><strong><a href="../../archSpec/base/branch-filtering-overview.html">Overview of branch filtering</a></strong><div class="desc">Maps or map branches can be filtered by adding a             <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element that specifies the DITAVAL document to use         for that map or map branch.</div></li><li class="link ulchildlink"><strong><a href="../../archSpec/base/branch-filtering-single-set.html">Branch filtering: Single condition set for a branch</a></strong><div class="desc">Using a single <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element as a child of a map or map         branch indicates that the map or map branch must be conditionally processed using the rules         specified in the referenced DITAVAL document.</div></li><li class="link ulchildlink"><strong><a href="../../archSpec/base/branch-filtering-multiple-sets.html">Branch filtering: Multiple condition sets for a branch</a></strong><div class="desc">Using multiple <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements as the children of a map         or map branch indicates that the map or map branch must be conditionally processed using the         rules that are specified in the referenced DITAVAL documents.</div></li><li class="link ulchildlink"><strong><a href="../../archSpec/base/branch-filtering-resource-names.html">Branch filtering: Impact on resource and key names</a></strong><div class="desc">When map branches are cloned by a processor in order to support multiple condition         sets, processors must manage conflicting resource and key names. The ditavalref domain         includes metadata elements that authors can use to specify how resource and key names are         renamed.</div></li><li class="link ulchildlink"><strong><a href="../../archSpec/base/branch-filtering-implications-of-processing-order.html">Branch filtering: Implications of processing order</a></strong><div class="desc">Because the branch filtering process can result in new or renamed keys, key scopes, or     URIs, the full effects of the branch filtering process <dfn class="term RFC-2119">MUST</dfn> be calculated by processors before they construct the effective     map and key scope structure.</div></li><li class="link ulchildlink"><strong><a href="../../archSpec/base/examples-of-branch-filter.html">Examples of branch filtering</a></strong><div class="desc">The branch filtering examples illustrate the processing expectations         for various scenarios that involve <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements. Processing         examples use either before and after sample markup or expanded syntax that shows the         equivalent markup without the <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements.</div></li></ul><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/behaviors.html" title="DITA processing is affected by a number of factors, including attributes that indicate the set of vocabulary and constraint modules on which a DITA document depends; navigation; linking; content reuse (using direct or indirect addressing); conditional processing; branch filtering; chunking; and more. In addition, translation of DITA content is expedited through the use of the dir, translate, and xml:lang attributes, and the index-sort-as element.">DITA processing</a></div></div></nav></article></main>
