---
layout: base.njk
title: 'Branch filtering: Multiple condition sets for a branch'
description: 'Using multiple ditavalref elements as the children of a map or map branch indicates that the map or map branch must be conditionally processed using the rules that are specified in the referenced DITAVAL documents.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: '1ef1836fa5adc371402b2e9d6b31fef551ef88ff'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="col-lg-3" role="toc"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction to DITA 1.3</a></li><li><a href="../../archSpec/archSpec-learningTraining.html">Architectural specification: All-inclusive edition </a><ul class="nav nav-list"><li><a href="../../archSpec/base/introduction-to-dita.html">Introduction to DITA</a></li><li><a href="../../archSpec/base/ditamarkup.html">DITA markup </a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/navigation.html">Navigation</a></li><li><a href="../../archSpec/base/conref.html">Content reference (conref)</a></li><li><a href="../../archSpec/base/condproc.html">Conditional processing (profiling)</a></li><li><a href="../../archSpec/base/branch-filtering.html">Branch filtering</a><ul class="nav nav-list"><li><a href="../../archSpec/base/branch-filtering-overview.html">Overview of branch filtering</a></li><li><a href="../../archSpec/base/branch-filtering-single-set.html">Branch filtering: Single condition set for a branch</a></li><li class="active"><a href="../../archSpec/base/branch-filtering-multiple-sets.html">Branch filtering: Multiple condition sets for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-resource-names.html">Branch filtering: Impact on resource and key names</a></li><li><a href="../../archSpec/base/branch-filtering-implications-of-processing-order.html">Branch filtering: Implications of processing order</a></li><li><a href="../../archSpec/base/examples-of-branch-filter.html">Examples of branch filtering</a></li></ul></li><li><a href="../../archSpec/base/chunking.html">Chunking</a></li><li><a href="../../archSpec/base/translation.html">Translation and localization</a></li><li><a href="../../archSpec/base/module-compatibility.html">Processing documents with different values of the domains attribute</a></li><li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li></ul></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration, specialization, generalization, and constraints </a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../archSpec/technicalContent/technical-content-specializations.html">Technical content specializations</a></li><li><a href="../../archSpec/learningTraining/learning-and-training-specializations.html">Learning and training specializations</a></li></ul></li><li><a href="../../langRef/langRef-learningTraining.html">Language reference: All-inclusive edition</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/non-normative-information.html">Non-normative information</a></li><li><a href="../../contentmodels/cmlt.html">Content models for learning and training package</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">Branch filtering: Multiple condition sets for a branch</h1>


    <div class="body conbody"><p class="shortdesc">Using multiple <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements as the children of a map
        or map branch indicates that the map or map branch must be conditionally processed using the
        rules that are specified in the referenced DITAVAL documents.</p>
        <p class="p">When multiple <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements occur as children of the same
            element, the rules in the referenced DITAVAL documents are processed independently. This
            effectively requires a processor to maintain one copy of the branch for each
                <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code>, so that each copy can be filtered using
            different conditions.</p>
        <div class="note note note_note non-normative"><span class="note__title">Note:</span> In most cases, it is possible to create a valid, fully-resolved view of
            a map with branches copied to reflect the different <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code>
            conditions. However, this might not be the case when multiple
                <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements occur as direct children of a root map.
            In this case, it is possible that the map could be filtered in a manner that results in
            two or more distinct versions of the <code class="keyword markupname xmlelement">&lt;title&gt;</code> or metadata. How
            this is handled is processor dependent. <span class="ph">For example, when a
                root map has three <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements as children of
                    <code class="keyword markupname xmlelement">&lt;map&gt;</code>, a conversion to EPUB could produce an EPUB with
                three versions of the content, or it could produce three distinct EPUB
                documents.</span></div>
        <p class="p">When a processor maintains multiple copies of a branch for different condition sets, it
            has to manage situations where a single resource with a single key name results in two
            distinct resources. Key names must be modified in order to allow references to a
            specific filtered copy of the resource; without renaming, key references could only be
            used to refer to a single filtered copy of the resource, chosen by the processor. See
                <a class="xref" href="branch-filtering-resource-names.html" title="When map branches are cloned by a processor in order to support multiple condition sets, processors must manage conflicting resource and key names. The ditavalref domain includes metadata elements that authors can use to specify how resource and key names are renamed.">Branch filtering: Impact on resource and key names</a> for details on how to manage
            resource names and key names.</p>
    </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/branch-filtering.html" title="The branch filtering mechanism enables map authors to set filtering conditions for specific branches of a map. This makes it possible for multiple conditional-processing profiles to be applied within a single publication.">Branch filtering</a></div></div></nav></article></main>
