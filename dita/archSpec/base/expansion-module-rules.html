---
# Generated from DITA source
layout: base
title: 'Expansion module rules'
description: 'There are certain rules that apply to the design and implementation of expansion modules. These rules all stem from the requirement that the content model of a specialized element must be consistent with the content model of the specialization base. After generalization, the content model of an element affected by an expansion module must match the original content model for that element.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: '200da82c1c85ee0f78c80efbc5ff7c65f966a2f3'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="col-lg-3" role="toc"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a><ul class="nav nav-list"><li><a href="../../archSpec/base/ditaspecialization.html">Overview of DITA extension facilities</a></li><li><a href="../../archSpec/base/configuration.html">Document-type configuration</a></li><li><a href="../../archSpec/base/specialization.html">Specialization</a></li><li><a href="../../archSpec/base/generalization.html">Generalization</a></li><li><a href="../../archSpec/base/constraints.html">Constraints</a></li><li><a href="../../archSpec/base/expansion-modules.html">Expansion modules</a><ul class="nav nav-list"><li><a href="../../archSpec/base/overview-of-expansion-modules.html">Overview of expansion modules</a></li><li class="active"><a href="../../archSpec/base/expansion-module-rules.html">Expansion module rules</a></li></ul></li></ul></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Expansion module rules</h1>
  
  
  <div class="body conbody"><div class="abstract"><span></span>
     <span class="shortdesc"><span></span>There are certain rules that apply to the design and
      implementation of expansion modules. <span></span><span class="ph">These rules all
        stem from the requirement that the content model of a specialized
        element must be consistent with the content model of the
        specialization base. <span></span>After generalization, the content model of an
        element affected by an expansion module must match the original
        content model for that element.</span></span>
  </div>
    
    <dl class="dl">
      
        <dt class="dt dlterm">Specialization base of expanded elements</dt>
        <dd class="dd"><span></span>
          <p class="p"><span></span>Elements that are added to content models by expansion models
            must be specializations of existing elements that are permitted
            in the original content model.</p>
        </dd>
      
      
        <dt class="dt dlterm">Content model of expanded elements</dt>
        <dd class="dd"><span></span>
          <p class="p"><span></span>Elements that are added to content models by expansion models
            must be allowed only where their specialization base is
            allowed.</p>
          <p class="p"><span></span>For example, when creating an expansion
            model that adds a specialization of
              <code class="keyword markupname xmlelement">&lt;data&gt;</code> to <code class="keyword markupname xmlelement">&lt;ol&gt;</code>,
            the specialization of <code class="keyword markupname xmlelement">&lt;data&gt;</code> must only
            be allowed before any <code class="keyword markupname xmlelement">&lt;li&gt;</code> elements, as
            that is the only place that the <code class="keyword markupname xmlelement">&lt;data&gt;</code>
            element is allowed in the content model for an ordered
            list.</p>
        </dd>
      
      
        <dt class="dt dlterm">Ordinality of expanded elements</dt>
        <dd class="dd"><span></span>
          <p class="p"><span></span>Elements that are added to content models by expansion modules
            must not <span class="ph">violate</span> the ordinality of the
            original content model. <span></span><span class="ph">If the original content
              model requires a child element to occur at least once, then
              the expanded content model cannot break this
              requirement.</span> If the original content model only permits
            a <span class="ph">child</span> element to occur once, then the
            expanded content model cannot break this requirement.</p>
          <div class="div">
            <p class="p"><span></span>For example, in the expansion module that adds a
              specialization of <code class="keyword markupname xmlelement">&lt;data&gt;</code> to
                <code class="keyword markupname xmlelement">&lt;ol&gt;</code>, the redefined content model
              for <code class="keyword markupname xmlelement">&lt;ol&gt;</code> cannot make the
                <code class="keyword markupname xmlelement">&lt;li&gt;</code> element optional.</p>
            <p class="p"><span></span>However, <span style="color:red;" class="ph">an</span> expansion
              module that adds a specialization of
                <code class="keyword markupname xmlelement">&lt;li&gt;</code>
                (<code class="keyword markupname xmlelement">&lt;listIntro&gt;</code>) to
                <code class="keyword markupname xmlelement">&lt;ol&gt;</code> can redefine the content model
              of <code class="keyword markupname xmlelement">&lt;ol&gt;</code> in the following ways:</p>
            <ul class="ul">
              <li class="li"><span></span>Make <code class="keyword markupname xmlelement">&lt;listIntro&gt;</code> the first child
                element and be required</li>
              <li class="li"><span></span>Make <code class="keyword markupname xmlelement">&lt;li&gt;</code> the second child element
                and optional</li>
            </ul>
            <p class="p"><span></span>When a DITA topic affected by this expansion
              module is generalized, the resulting markup would be valid;
              the content model of <code class="keyword markupname xmlelement">&lt;ol&gt;</code> would be
              respected.</p>
          </div>
          
          
        </dd>
      
      
          <dt class="dt dlterm">Aggregation of constraint modules</dt>
          <dd class="dd"><span></span>
            <p class="p"><span></span>The content model of an element can be modified by either of
              the following element-configuration modules:</p>
            <ul class="ul">
              <li class="li"><span></span>Constraint module</li>
              <li class="li"><span></span>Expansion module</li>
            </ul>
            <p class="p"><span></span><span style="color:red;" class="ph">For any document-type shell, the</span>
              content model of an element can only be modified by a single
              element-type configuration module. <span></span>If multiple constraints or
              extensions need to be applied to a single element, the
              element configurations must be combined into a single module
              that reflects all the constraints and expansions that were
              defined in the original separate modules.</p>
          </dd>
        
    </dl>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/expansion-modules.html" title="Expansion modules enable the extension of content models and attribute lists for individual elements. Expansion modules are the opposite of constraints. They add elements and attributes to specific content models and attribute lists, rather than removing them.">Expansion modules</a></div></div></nav></article></main>
