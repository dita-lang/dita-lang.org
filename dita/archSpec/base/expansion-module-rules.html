---
# Generated from DITA source
layout: base
title: 'Expansion module rules'
description: 'There are certain rules that apply to the design and implementation of expansion modules. These rules all stem from the requirement that the content model of a specialized element must be consistent with the content model of the specialization base. After generalization, the content model of an element affected by an expansion module must match the original content model for that element.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a><ul class="nav nav-list"><li><a href="../../archSpec/base/ditaspecialization.html">Overview of DITA extension facilities</a></li><li><a href="../../archSpec/base/configuration.html">Document-type configuration</a></li><li><a href="../../archSpec/base/specialization.html">Specialization</a></li><li><a href="../../archSpec/base/generalization.html">Generalization</a></li><li><a href="../../archSpec/base/constraints.html">Constraints</a></li><li><a href="../../archSpec/base/expansion-modules.html">Expansion modules</a><ul class="nav nav-list"><li><a href="../../archSpec/base/overview-of-expansion-modules.html">Overview of expansion modules</a></li><li class="active"><a href="../../archSpec/base/expansion-module-rules.html">Expansion module rules</a></li></ul></li></ul></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Expansion module rules</h1>
   
   
   <div class="body conbody"><div class="abstract">
       <span class="shortdesc">There are certain rules that apply to the design and
      implementation of expansion modules. <span class="ph">These rules all
        stem from the requirement that the content model of a specialized
        element must be consistent with the content model of the
        specialization base. After generalization, the content model of an
        element affected by an expansion module must match the original
        content model for that element.</span>
      </span>
   </div>
      <span class="undefined_element">
         <span class="undefined_element">
            <span class="undefined_element">Specialization base of expanded elements</span>
            <span class="undefined_element">
               <span class="undefined_element">Elements that are added to content models by expansion models
            must be specializations of existing elements that are permitted
            in the original content model.</span>
            </span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Content model of expanded elements</span>
            <span class="undefined_element">
               <span class="undefined_element">Elements that are added to content models by expansion models
            must be allowed only where their specialization base is
            allowed.</span>
               <span class="undefined_element">For example, when creating an expansion
            model that adds a specialization of
              <span class="undefined_element">data</span> to <span class="undefined_element">ol</span>,
            the specialization of <span class="undefined_element">data</span> must only
            be allowed before any <span class="undefined_element">li</span> elements, as
            that is the only place that the <span class="undefined_element">data</span>
            element is allowed in the content model for an ordered
            list.</span>
            </span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Ordinality of expanded elements</span>
            <span class="undefined_element">
               <span class="undefined_element">Elements that are added to content models by expansion modules
            must not <span class="undefined_element">violate</span> the ordinality of the
            original content model. <span class="undefined_element">If the original content
              model requires a child element to occur at least once, then
              the expanded content model cannot break this
              requirement.</span> If the original content model only permits
            a <span class="undefined_element">child</span> element to occur once, then the
            expanded content model cannot break this requirement.</span>
               <span class="undefined_element">
                  <span class="undefined_element">For example, in the expansion module that adds a
              specialization of <span class="undefined_element">data</span> to
                <span class="undefined_element">ol</span>, the redefined content model
              for <span class="undefined_element">ol</span> cannot make the
                <span class="undefined_element">li</span> element optional.</span>
                  <span class="undefined_element">However, <span class="undefined_element">
                        <span class="undefined_element">
                           <span class="undefined_element"></span>
                        </span>an<span class="undefined_element">
                           <span class="undefined_element"></span>
                        </span>
                     </span> expansion
              module that adds a specialization of
                <span class="undefined_element">li</span>
                (<span class="undefined_element">listIntro</span>) to
                <span class="undefined_element">ol</span> can redefine the content model
              of <span class="undefined_element">ol</span> in the following ways:</span>
                  <span class="undefined_element">
                     <span class="undefined_element">Make <span class="undefined_element">listIntro</span> the first child
                element and be required</span>
                     <span class="undefined_element">Make <span class="undefined_element">li</span> the second child element
                and optional</span>
                  </span>
                  <span class="undefined_element">When a DITA topic affected by this expansion
              module is generalized, the resulting markup would be valid;
              the content model of <span class="undefined_element">ol</span> would be
              respected.</span>
               </span>
            </span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Aggregation of constraint modules</span>
            <span class="undefined_element">
               <span class="undefined_element">The content model of an element can be modified by either of
              the following element-configuration modules:</span>
               <span class="undefined_element">
                  <span class="undefined_element">Constraint module</span>
                  <span class="undefined_element">Expansion module</span>
               </span>
               <span class="undefined_element">
                  <span class="undefined_element">
                     <span class="undefined_element">
                        <span class="undefined_element"></span>
                     </span>For any document-type shell, the<span class="undefined_element">
                        <span class="undefined_element"></span>
                     </span>
                  </span>
              content model of an element can only be modified by a single
              element-type configuration module. If multiple constraints or
              extensions need to be applied to a single element, the
              element configurations must be combined into a single module
              that reflects all the constraints and expansions that were
              defined in the original separate modules.</span>
            </span>
         </span>
      </span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/expansion-modules.html" title="Expansion modules enable the extension of content models and attribute lists for individual elements. Expansion modules are the opposite of constraints. They add elements and attributes to specific content models and attribute lists, rather than removing them.">Expansion modules</a></div></div></nav>
</article></main>
