---
# Generated from DITA source
layout: base
title: 'RELAX NG: Coding requirements for structural and element-domain modules'
description: 'This topic covers general coding requirements for defining element types in both structural and element-domain vocabulary modules.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a><ul class="nav nav-list"><li><a href="../../non-normative/file-naming-conventions.html">File naming conventions</a></li><li><a href="../../archSpec/base/dtd-requirements.html">DTD coding requirements</a></li><li><a href="../../archSpec/base/relax-ng-requirements.html">RELAX NG coding requirements</a><ul class="nav nav-list"><li><a href="../../archSpec/base/relax-ng-coding-overview.html">RELAX NG: Overview of coding requirements</a></li><li><a href="../../archSpec/base/relax-ng-coding-doctype-shell.html">RELAX NG: Coding requirements for document-type shells</a></li><li class="active"><a href="../../archSpec/base/relax-ng-coding-element-types.html">RELAX NG: Coding requirements for structural and element-domain modules</a></li><li><a href="../../archSpec/base/relax-ng-coding-structural-modules.html">RELAX NG: Coding requirements for structural modules</a></li><li><a href="../../archSpec/base/relax-ng-coding-element-domains.html">RELAX NG: Coding requirements for element-domain modules</a></li><li><a href="../../archSpec/base/relax-ng-coding-attribute-domains.html">RELAX NG: Coding requirements for attribute-domain modules</a></li><li><a href="../../archSpec/base/relax-ng-coding-requirements-for-element-configuration-modules.html">RELAX NG: Coding requirements for element-configuration modules</a></li></ul></li></ul></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">RELAX NG: Coding requirements for structural and element-domain
    modules</h1>
   
   
   <div class="body conbody"><p class="shortdesc">This topic covers general coding requirements for defining
    element types in both structural and element-domain vocabulary
    modules.</p>
      <span class="undefined_element">
         <span class="undefined_element">Module files</span>
         <span class="undefined_element">Each RELAX NG vocabulary module consists of a single module file.</span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Element definitions</span>
         <span class="undefined_element">A structural or element-domain vocabulary module contains a declaration for each element
        type that is named in the module. While the XML standard allows content models to refer to
        undeclared element types, the DITA standard does not permit it. All element types or
        attribute lists that are named in a vocabulary module are declared in one of the following
        objects:</span>
         <span class="undefined_element">
            <span class="undefined_element">The vocabulary module</span>
            <span class="undefined_element">A base module of which the vocabulary module is a direct or indirect specialization</span>
            <span class="undefined_element">(If the vocabulary module is a structural module) A required domain or structural
          module</span>
         </span>
         <span class="undefined_element">The element type patterns are organized into the following sections:</span>
         <span class="undefined_element">
            <span class="undefined_element">
               <span class="undefined_element">Element type name patterns</span>
               <span class="undefined_element">
                  <span class="undefined_element">For each element type that is declared in the vocabulary
              module, there is a pattern whose name is the element type
              name and whose content is a reference to the
                  <span class="undefined_element">
                        <span class="undefined_element">tagname</span>.element</span>
              pattern <span class="undefined_element">
                        <span class="undefined_element">
                           <span class="undefined_element"></span>
                        </span>for the element type<span class="undefined_element">
                           <span class="undefined_element"></span>
                        </span>
                     </span>.</span>
                  <span class="undefined_element">
                     <span class="undefined_element">The following example shows the pattern for the
                  <span class="undefined_element">b</span> element:</span>
                     <span class="undefined_element">&lt;div&gt;
  &lt;a:documentation&gt;ELEMENT TYPE NAME PATTERNS&lt;/a:documentation&gt;
    &lt;!-- ... --&gt;
    <span class="undefined_element">&lt;define name="b"&gt;
      &lt;ref name="b.element"/&gt;
    &lt;/define&gt;</span>
    &lt;!-- ... --&gt;
&lt;/div&gt;</span>
                  </span>
                  <span class="undefined_element">The element-type name pattern provides a layer of abstraction that facilitates
              redefinition. The element-type name patterns are referenced from content model and
              domain extension patterns. Specialization modules can re-declare the patterns to
              include specializations of the type, allowing the specialized types in all contexts
              where the base type is allowed.</span>
                  <span class="undefined_element">The declarations can occur in any order.</span>
               </span>
            </span>
            <span class="undefined_element">
               <span class="undefined_element">Common content-model patterns</span>
               <span class="undefined_element">Structural and element-domain modules can include a section that defines the patterns
            that contribute to the content models of the element types that are defined in the
            module.</span>
            </span>
            <span class="undefined_element">
               <span class="undefined_element">Common attribute sets</span>
               <span class="undefined_element">Structural and element-domain modules can include a section that defines patterns for
            attribute sets that are common to one or more of the element types that are defined in
            the module.</span>
            </span>
            <span class="undefined_element">
               <span class="undefined_element">Element type declarations</span>
               <span class="undefined_element">
                  <span class="undefined_element">For each element type that is declared in the vocabulary module, the following set of
              patterns are used to define the content model and attributes for the element type.
              Each set of patterns typically is grouped within a <span class="undefined_element">div</span>
              element.</span>
                  <span class="undefined_element">
                     <span class="undefined_element">
                        <span class="undefined_element">
                           <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.content</span>
                        </span>
                        <span class="undefined_element">Defines the complete content model for the element <span class="undefined_element">tagname</span>.
                  The content model pattern can be overridden in <span class="undefined_element">element-configuration
                    modules (constraint and expansion)</span>.</span>
                     </span>
                     <span class="undefined_element">
                        <span class="undefined_element">
                           <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.attributes</span>
                        </span>
                        <span class="undefined_element">Defines the complete attribute list for the element <span class="undefined_element">tagname</span>,
                  except for <span class="undefined_element">class</span>. The attribute list declaration can be
                  overridden in <span class="undefined_element">element-configuration modules (constraint and
                    expansion)</span>.</span>
                     </span>
                     <span class="undefined_element">
                        <span class="undefined_element">
                           <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.element</span>
                        </span>
                        <span class="undefined_element">Provides the actual element-type definition. It contains an
                    <span class="undefined_element">element</span> element whose <span class="undefined_element">name</span> value is
                  the element type name and whose content is a reference to the
                      <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.content</span> and
                      <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.attlist</span>
                  patterns.</span>
                     </span>
                     <span class="undefined_element">
                        <span class="undefined_element">
                           <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.attlist</span>
                        </span>
                        <span class="undefined_element">
                           <span class="undefined_element">
                              <span class="undefined_element">
                                 <span class="undefined_element"></span>
                              </span>Contains<span class="undefined_element">
                                 <span class="undefined_element"></span>
                              </span>
                           </span> an additional
                  attribute-list pattern with a <span class="undefined_element">combine</span>
                  attribute set to the value <span class="undefined_element">interleave</span>.
                  This pattern contains only a reference to the
                      <span class="undefined_element">
                              <span class="undefined_element">tagname</span>.attributes</span>
                  pattern. <span class="undefined_element">
                              <span class="undefined_element">
                                 <span class="undefined_element"></span>
                              </span>This pattern enables the
                    integration of attribute specializations.<span class="undefined_element">
                                 <span class="undefined_element"></span>
                              </span>
                           </span>
                        </span>
                     </span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">The following example shows the declaration for the
                  <span class="undefined_element">topichead</span> element, including the definition for each
                pattern described above.</span>
                     <span class="undefined_element">    &lt;div&gt;
      &lt;a:documentation&gt;Topic Head&lt;/a:documentation&gt;
      <span class="undefined_element">&lt;define name="topichead.content"&gt;</span>
        &lt;optional&gt;
          &lt;ref name="topicmeta"/&gt;
        &lt;/optional&gt;
        &lt;zeroOrMore&gt;
          &lt;choice&gt;
            &lt;ref name="data.elements.incl"/&gt;
            &lt;ref name="navref"/&gt;
            &lt;ref name="topicref"/&gt;
          &lt;/choice&gt;
        &lt;/zeroOrMore&gt;
      &lt;/define&gt;
      <span class="undefined_element">&lt;define name="topichead.attributes"&gt;
</span>        &lt;optional&gt;
          &lt;attribute name="keys"/&gt;
        &lt;/optional&gt;
        &lt;ref name="topicref-atts"/&gt;
        &lt;ref name="univ-atts"/&gt;
      &lt;/define&gt;
      <span class="undefined_element">&lt;define name="topichead.element"&gt;</span>
        &lt;element name="topichead"&gt;
          &lt;a:documentation/&gt;
          &lt;ref name="topichead.attlist"/&gt;
          &lt;ref name="topichead.content"/&gt;
        &lt;/element&gt;
      &lt;/define&gt;
      <span class="undefined_element">&lt;define name="topichead.attlist" combine="interleave"&gt;
</span>        &lt;ref name="topichead.attributes"/&gt;
      &lt;/define&gt;

    &lt;/div&gt;</span>
                  </span>
               </span>
            </span>
            <span class="undefined_element">
               <span class="undefined_element">idElements pattern contribution</span>
               <span class="undefined_element">
                  <span class="ph error-statement"></span>
                  <span class="undefined_element">Element types that declare the <span class="undefined_element">id</span> attribute as type "ID", including
              all topic and map element types, provide a declaration for the
                <span class="undefined_element">idElements</span> pattern. <span class="ph error-statement"></span>This is required to correctly configure the
                <span class="undefined_element">any</span> pattern override in document-type shells and avoid errors
              from RELAX NG parsers. The declaration is specified with a <span class="undefined_element">combine</span>
              attribute set to the value <span class="undefined_element">choice</span>.</span>
                  <span class="undefined_element">
                     <span class="undefined_element"> For example:</span>
                     <span class="undefined_element">&lt;div&gt;
  &lt;a:documentation&gt;LONG NAME: Map&lt;/a:documentation&gt;
  &lt;!-- ... --&gt;
  &lt;define name="idElements" combine="choice"&gt;
    &lt;ref name="map.element"/&gt;
  &lt;/define&gt;
&lt;/div&gt;</span>
                  </span>
               </span>
            </span>
            <span class="undefined_element">
               <span class="undefined_element">Specialization attribute declarations</span>
               <span class="undefined_element">
                  <span class="undefined_element">A vocabulary module must define a <span class="undefined_element">class</span> attribute for every
              specialized element. This is done in a section at the end of each module that includes
              a <span class="undefined_element">
                        <span class="undefined_element">tagname</span>.attlist</span> pattern for each element type
              that is defined in the module. The declarations can occur in any order.</span>
                  <span class="undefined_element">The <span class="undefined_element">
                        <span class="undefined_element">tagname</span>.attlist</span>
              pattern for each element defines the value for the
                <span class="undefined_element">class</span> attribute for the element.
                <span class="undefined_element">class</span> is declared as an optional
              attribute. The default value is declared using the
                <span class="undefined_element">a:defaultValue</span> attribute, and the value of
              the attribute is constructed according to the rules in <span class="undefined_element">The class attribute rules and syntax<span class="undefined_element">The specialization hierarchy of each DITA element is declared     as the value of the <span class="undefined_element">class</span> attribute. The       <span class="undefined_element">class</span> attribute provides a mapping from the current     name of the element to its more general equivalents.<span class="undefined_element">
                              <span class="undefined_element">
                                 <span class="undefined_element"></span>
                              </span>       The <span class="undefined_element">class</span> attribute<span class="undefined_element">
                                 <span class="undefined_element"></span>
                              </span>
                           </span> also can provide a mapping     from the current name to more specialized equivalents. All     specialization-aware processing can be defined in terms of       <span class="undefined_element">class</span> attribute values.</span>
                     </span>.</span>
                  <span class="undefined_element">For
              example:<span class="undefined_element">&lt;define name="topichead.attlist" combine="interleave"&gt;
  &lt;optional&gt;
    &lt;attribute name="class" 
        a:defaultValue="+ map/topicref mapgroup-d/topichead "
    /&gt;
  &lt;/optional&gt;
&lt;/define&gt;</span>
                  </span>
               </span>
            </span>
         </span>
      </span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/relax-ng-requirements.html" title="This section explains how to implement RNG-based document-type shells, specializations, and element-configuration modules (constraints and expansions).">RELAX NG coding requirements</a></div></div></nav>
</article></main>
