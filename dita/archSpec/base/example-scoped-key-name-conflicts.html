---
# Generated from DITA source
layout: base
title: 'Example: How key scopes with the same name interact'
description: 'In a large publication it is possible that two sets of content will use the same key scope name. These scopes have no relationship with each other aside from the shared name; key definitions in one are not shared with the other.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/id.html">id attribute</a></li><li><a href="../../archSpec/base/dita-linking.html">DITA linking</a></li><li><a href="../../archSpec/base/uri-based-addressing.html">URI-based (direct) addressing</a></li><li><a href="../../archSpec/base/key-based-addressing.html">Indirect key-based addressing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/keys-core-concepts.html">Core concepts for working with keys</a></li><li><a href="../../archSpec/base/thekeysattribute.html">Setting key names with the keys attribute</a></li><li><a href="../../archSpec/base/thekeyrefattribute.html">The keyref attribute</a></li><li><a href="../../archSpec/base/using-keys-for-addressing.html">Using keys for addressing</a></li><li><a href="../../archSpec/base/keyScopes.html">Key scopes</a></li><li><a href="../../archSpec/base/the-key-scope-attribute.html">The keyscope attribute</a></li><li><a href="../../archSpec/base/using-keys-to-address-keys-across-scopes.html">Addressing keys across scopes</a></li><li><a href="../../archSpec/base/links-between-maps.html">Cross-deliverable addressing and linking</a></li><li><a href="../../archSpec/base/processing-key-references-general.html">Processing key references</a></li><li><a href="../../archSpec/base/processing-keyref-for-links.html">Processing key references for navigation links and images</a></li><li><a href="../../archSpec/base/processing-keyref-on-topicref.html">Processing key references on topicref elements</a></li><li><a href="../../archSpec/base/processing-keyref-for-text.html">Processing key references to generate text or link text</a></li><li><a href="../../archSpec/base/examples-of-keys.html">Examples of keys</a></li><li><a href="../../archSpec/base/examples-of-scoped-keys.html">Examples of scoped keys</a><ul class="nav nav-list"><li><a href="../../archSpec/base/example-scoped-keys-for-variable-text.html">Example: Scoped key definitions for variable text</a></li><li><a href="../../archSpec/base/example-scoped-key-references.html">Example: References to scoped keys</a></li><li><a href="../../archSpec/base/example-nested-key-scopes.html">Example: Key definitions in nested key scopes</a></li><li><a href="../../archSpec/base/example-key-scopes-omnibus-publications.html">Example: Key scopes and omnibus publications</a></li><li><a href="../../archSpec/base/example-keys-scope-defining-precedence.html">Example: How key scopes affect key precedence</a></li><li class="active"><a href="../../archSpec/base/example-scoped-key-name-conflicts.html">Example: How key scopes with the same name interact</a></li><li><a href="../../archSpec/base/example-subjectrefs-attribute-with-key-scopes.html">Example: subjectrefs attribute with key scopes</a></li></ul></li></ul></li><li><a href="../../archSpec/base/context-hooks-for-user-assistance.html">Context hooks for user assistance</a></li></ul></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Example: How key scopes with the same name interact</h1>
   
   
   <div class="body conbody"><p class="shortdesc">In a large publication it is possible that two sets of content will use the same key
        scope name. These scopes have no relationship with each other aside from the shared name;
        key definitions in one are not shared with the other.</p>
      <span class="undefined_element">This scenario is more likely in a large publication that pulls from multiple sources,
            where the root map refers to two sets of content that share a key scope name. Those key
            scopes are <span class="undefined_element">non-intersecting</span>,
            meaning that key definitions within one scope are not automatically available to the
            other key scope that happens to share the same name.</span>
      <span class="undefined_element">In the following example, a root map refers to multiple product maps that are assembled
            into a custom product suite:<span class="undefined_element">&lt;map&gt;
  &lt;title&gt;Custom product suite overview&lt;/title&gt;

  &lt;!-- Content from product A --&gt;
  &lt;mapref href="productA/productA.ditamap"/&gt;

  &lt;!-- Content from product B --&gt;
  &lt;mapref href="productB/productB.ditamap"/&gt;

  &lt;!-- ...Content from additional products... --&gt;
&lt;/map&gt;</span>
      </span>
      <span class="undefined_element">In this scenario, both product A and product B share a key scope name
                <span class="undefined_element">using</span>. The full context, showing content from both A and B, shows
          the shared key scope names and one shared key name:<span class="undefined_element">&lt;map&gt;
  &lt;title&gt;Custom product suite overview&lt;/title&gt;

  &lt;!-- Content from product A (from productA.ditamap) --&gt;
  &lt;topicref href="productA/overview.dita"&gt;
    &lt;topicref href="productA/using.dita" keys="usingprodA" <span class="undefined_element">keyscope="using"</span>&gt;
      &lt;topicref href="productA/signup.dita" keys="signup"/&gt;
      &lt;topicref href="productA/logging-in.dita" keys="login"/&gt;
      &lt;!-- ... additional topics and keys --&gt;
      &lt;topicref href="productA/issues.dita" keys="troubleshooting"/&gt;
    &lt;/topicref&gt;
  &lt;/topicref&gt;

  &lt;!-- Content from product B (from productB.ditamap) --&gt;
  &lt;topicref href="productB/overview.dita"&gt;
    &lt;topicref href="productB/using.dita" keys="usingprodB" <span class="undefined_element">keyscope="using"</span>&gt;
      &lt;topicref href="productB/request-access.dita" keys="access"/&gt;
      &lt;topicref href="productB/log-in-to-portal.dita" keys="login-portal"/&gt;
      &lt;!-- ... additional topics and keys --&gt;
      &lt;topicref href="productB/troubleshooting.dita" keys="troubleshooting"/&gt;
    &lt;/topicref&gt;
  &lt;/topicref&gt;

  &lt;!-- ...Content from additional products... --&gt;
&lt;/map&gt;</span>
      </span>
      <span class="undefined_element">In the resolved view shown above, each product defines the key scope
                <span class="undefined_element">using</span>, and within that key scope each defines the key name
                <span class="undefined_element">troubleshooting</span>. Keys are resolved as follows:<span class="undefined_element">
            <span class="undefined_element">Within the root map context:<span class="undefined_element">
                  <span class="undefined_element">Keys unique to Product A's <span class="undefined_element">using</span> scope can be
                            referenced with that prefix: <span class="undefined_element">using.usingprodA</span>,
                                <span class="undefined_element">using.signup</span>, and
                            <span class="undefined_element">using.login</span>.</span>
                  <span class="undefined_element">Keys unique to Product B's <span class="undefined_element">using</span> scope can be
                            referenced with that prefix: <span class="undefined_element">using.usingprodB</span>,
                                <span class="undefined_element">using.access</span>, and
                                <span class="undefined_element">using.login-portal</span>.</span>
                  <span class="undefined_element">The scoped reference <span class="undefined_element">using.troubleshooting</span> is defined
                            twice. In this case, normal key precedence rules apply. It resolves to
                            the first definition, <span class="undefined_element">productA/issues.dita</span>.</span>
                  <span class="undefined_element">Product B's troubleshooting topic cannot be referenced by key because of
                            the conflict. The easiest way to make this key definition available
                            would be to add an additional scope around all of Product B's
                            content.</span>
               </span>
            </span>
            <span class="undefined_element">Within the Product A context:<span class="undefined_element">
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="usingprodA"</span> resolves to
                                <span class="undefined_element">productA/using.dita</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="signup"</span> resolves to
                                <span class="undefined_element">productA/signup.dita</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="login"</span> resolves to
                                <span class="undefined_element">productA/logging-in.dita</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="troubleshooting"</span> resolves to
                                <span class="undefined_element">productA/issues.dita</span>
                  </span>
                  <span class="undefined_element">Keys that are in Product B's <span class="undefined_element">using</span> context, and are
                            unique to that context, can be referenced with the scope prefix:
                                <span class="undefined_element">using.usingprodB</span>,
                            <span class="undefined_element">using.access</span>,
                            <span class="undefined_element">using.login-portal</span>
                  </span>
               </span>
            </span>
            <span class="undefined_element">Within the Product B context:<span class="undefined_element">
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="usingprodB"</span> resolves to
                                <span class="undefined_element">productB/using.dita</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="access"</span> resolves to
                                <span class="undefined_element">productB/request-access.dita</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="login-portal"</span> resolves to
                                <span class="undefined_element">productB/log-in-to-portal.dita</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">keyref="troubleshooting"</span> resolves to
                                <span class="undefined_element">productB/troubleshooting.dita</span>
                  </span>
                  <span class="undefined_element">Keys that are in Product A's <span class="undefined_element">using</span> context, and are
                            unique to that context, can be referenced with the scope prefix:
                                <span class="undefined_element">using.usingprodA</span>,
                            <span class="undefined_element">using.signup</span>, <span class="undefined_element">using.login</span>
                  </span>
                  <span class="undefined_element">The shared key definition <span class="undefined_element">using.troubleshooting</span>
                            resolves against the root context, which means it resolves to the
                            Product A context, <span class="undefined_element">productA/issues.dita</span>
                  </span>
               </span>
            </span>
         </span>
      </span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/examples-of-scoped-keys.html" title="This section of the specification contains examples and scenarios. They illustrate how scoped keys can be used.">Examples of scoped keys</a></div></div></nav>
</article></main>
