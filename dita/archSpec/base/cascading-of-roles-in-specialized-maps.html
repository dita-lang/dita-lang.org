---
# Generated from DITA source
layout: base
title: 'Cascading of roles from map to map'
description: 'When specialized topicref elements, such as chapter or mapref, reference a map, they typically imply a semantic role for the referenced content.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'b4e0332d7ca36b570b0e8a75485eacb9951537d4'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="col-lg-3" role="toc"><ul></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
 <h1 class="title topictitle1" id="ariaid-title1">Cascading of roles from map to map</h1>
 
 
 <div class="body conbody"><p class="shortdesc"><span></span>When specialized <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements,
    such as <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> or
      <code class="keyword markupname xmlelement">&lt;mapref&gt;</code>, reference a map, they typically
    imply a semantic role for the referenced content. <span></span></p>
    
    
    <p class="p"><span></span>The semantic role reflects the <code class="keyword markupname xmlatt">@class</code> hierarchy of
      the referencing <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> element<span style="color:red;" class="ph">. <span></span>It </span>is equivalent to having the
        <code class="keyword markupname xmlatt">@class</code> attribute from the referencing
        <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> cascade to the top-level
        <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements in the referenced map.
<span></span>      Although this cascade behavior is not universal, there are general
      guidelines for when a role based on the <code class="keyword markupname xmlatt">@class</code>
      attribute cascades.</p>
  <p class="p"><span></span>When a <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> element or a specialization of a
    <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> element references a DITA resource, it defines a role for that
   resource. <span></span>In some cases this role is straightforward, such as when a
    <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> element references a DITA topic (giving it the already known
   role of "topic"), or when a <code class="keyword markupname xmlelement">&lt;mapref&gt;</code> element references a DITA map (giving
   it the role of "DITA map").</p>
    
    
  <p class="p"><span></span>Unless otherwise instructed, a specialized <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> element that
      references a map supplies a role for the referenced content. <span></span>This means that, in effect, the
        <code class="keyword markupname xmlatt">@class</code> attribute of the referencing element cascades to top-level topicref
      elements in the referenced map. <span></span>In situations where this should not happen—such as all
      elements from the mapgroup domain—the non-default behavior should be clearly specified.</p>
  <p class="p"><span></span>For example, when a <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> element from the bookmap specialization
      references a map, it supplies a role of "chapter" for each top-level
        <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> element in the referenced map. <span></span>When the
        <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> element references a branch in another map, it supplies a
      role of "chapter" for that branch. <span></span>In effect, the <code class="keyword markupname xmlatt">@class</code> attribute for
        <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> (<code class="ph codeph">"- map/topicref bookmap/chapter "</code>)
      cascades to the top-level <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements in the nested map,
      although it does not cascade any further.</p>
  <p class="p"><span></span>Because the <code class="keyword markupname xmlelement">&lt;mapref&gt;</code> element is a convenience element, the top-level
        <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements in the map referenced by a
        <code class="keyword markupname xmlelement">&lt;mapref&gt;</code> element <dfn class="term RFC-2119">MUST NOT</dfn> be
      processed as if they are <code class="keyword markupname xmlelement">&lt;mapref&gt;</code> elements. <span></span>The <code class="keyword markupname xmlatt">@class</code>
      attribute from the <code class="keyword markupname xmlelement">&lt;mapref&gt;</code> element (<code class="ph codeph">"+ map/topicref
        mapgroup-d/mapref "</code>) does not cascade to the referenced map.</p>
  <p class="p"><span></span>In some cases, preserving the role of the referencing element might
      result in out-of-context content. <span></span>For example, a
        <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> element that references a bookmap
      might pull in <code class="keyword markupname xmlelement">&lt;part&gt;</code> elements that contain
      nested <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> elements. <span></span>Treating the
        <code class="keyword markupname xmlelement">&lt;part&gt;</code> element as a
        <code class="keyword markupname xmlelement">&lt;chapter&gt;</code> will result in a chapter that
      nests other chapters, which is not valid in bookmap and might not be
      understandable by processors. <span></span>The result is implementation
        specific<span style="color:red;" class="ph">. <span></span>P</span>rocessors <dfn class="term RFC-2119">MAY</dfn> choose to treat this as an error,
      issue a warning, or simply assign new roles to the problematic
      elements.</p>
 </div>
</article></main>
