---
# Generated from DITA source
layout: base
title: 'Processing key references on topicref elements'
description: 'While topicref elements are used to define keys, they also can reference keys that are defined elsewhere. This topic explains how to evaluate key references on topicref elements and its specializations.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/id.html">id attribute</a></li><li><a href="../../archSpec/base/dita-linking.html">DITA linking</a></li><li><a href="../../archSpec/base/uri-based-addressing.html">URI-based (direct) addressing</a></li><li><a href="../../archSpec/base/key-based-addressing.html">Indirect key-based addressing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/keys-core-concepts.html">Core concepts for working with keys</a></li><li><a href="../../archSpec/base/thekeysattribute.html">Setting key names with the keys attribute</a></li><li><a href="../../archSpec/base/thekeyrefattribute.html">The keyref attribute</a></li><li><a href="../../archSpec/base/using-keys-for-addressing.html">Using keys for addressing</a></li><li><a href="../../archSpec/base/keyScopes.html">Key scopes</a></li><li><a href="../../archSpec/base/the-key-scope-attribute.html">The keyscope attribute</a></li><li><a href="../../archSpec/base/using-keys-to-address-keys-across-scopes.html">Addressing keys across scopes</a></li><li><a href="../../archSpec/base/links-between-maps.html">Cross-deliverable addressing and linking</a></li><li><a href="../../archSpec/base/processing-key-references-general.html">Processing key references</a></li><li><a href="../../archSpec/base/processing-keyref-for-links.html">Processing key references for navigation links and images</a></li><li class="active"><a href="../../archSpec/base/processing-keyref-on-topicref.html">Processing key references on topicref elements</a></li><li><a href="../../archSpec/base/processing-keyref-for-text.html">Processing key references to generate text or link text</a></li><li><a href="../../archSpec/base/examples-of-keys.html">Examples of keys</a></li><li><a href="../../archSpec/base/examples-of-scoped-keys.html">Examples of scoped keys</a></li></ul></li><li><a href="../../archSpec/base/context-hooks-for-user-assistance.html">Context hooks for user assistance</a></li></ul></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Processing key references on <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements</h1>
   
   
   <div class="body conbody"><p class="shortdesc">While <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements are used to define keys, they also
        can reference keys that are defined elsewhere. This topic explains how to evaluate key
        references on <code class="keyword markupname xmlelement">&lt;topicref&gt;</code> elements and its
        specializations.</p>
      <span class="undefined_element">
         <span class="undefined_element">
            <span class="undefined_element">Determining the effective resource</span>
            <span class="undefined_element">
               <span class="undefined_element">For topic references that use the <span class="undefined_element">keyref</span> attribute, the
                        effective resource bound to the <span class="undefined_element">topicref</span> element is
                        determined by resolving all intermediate key references. Each key reference
                        is resolved either to a resource addressed directly by URI reference in an
                            <span class="undefined_element">href</span> attribute, or to no resource. Processors <span class="undefined_element">MAY</span> impose reasonable limits on the number
                        of intermediate key references that they will resolve. Processors <span class="undefined_element">SHOULD</span> support at least three levels of
                        key references.</span>
               <span class="undefined_element">This rule applies to all topic references, including those that define
                        keys. The effective bound resource for a key definition that uses the
                            <span class="undefined_element">keyref</span> attribute cannot be determined until the key
                        space has been constructed.</span>
            </span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Combining metadata</span>
            <span class="undefined_element">
               <span class="undefined_element">Content from a key-defining element cascades to the key-referencing element
following the rules for combining metadata between maps and other maps and between maps and
topics.</span>
               <span class="undefined_element">The combined attributes and content cascade from one map to another or from a
                        map to a topic, but this is controlled by existing rules for cascading,
                        which are not affected by the use of key references.</span>
            </span>
         </span>
      </span>
      <span class="undefined_element"> If, in addition to the <span class="undefined_element">keys</span> attribute, a key definition specifies a
                <span class="undefined_element">keyref</span> attribute that can be resolved after the key resolution
            context for the key definition has been determined, the resources bound to the
            referenced key definition take precedence.</span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/key-based-addressing.html" title="DITA keys provide an alternative to direct addressing. The key reference mechanism provides a layer of indirection so that resources (for example, URIs, metadata, or variable text strings) can be defined at the DITA map level instead of locally in each topic.">Indirect key-based addressing</a></div></div></nav>
</article></main>
