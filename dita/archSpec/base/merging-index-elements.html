---
# Generated from DITA source
layout: base
title: 'Merging index elements'
description: 'Processors merge indexing elements in order to construct the effective index for a publication.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/navigation.html">Navigation</a></li><li><a href="../../archSpec/base/indexes.html">Indexes</a><ul class="nav nav-list"><li><a href="../../archSpec/base/index-elements.html">Index elements</a></li><li><a href="../../archSpec/base/location-of-indexterm-elements.html">Location of indexterm elements</a></li><li><a href="../../archSpec/base/index-page-references.html">Index locators</a></li><li><a href="../../archSpec/base/index-redirection.html">Index redirection</a></li><li><a href="../../archSpec/base/index-ranges.html">Index ranges</a></li><li><a href="../../archSpec/base/index-sorting.html">Index sorting</a></li><li class="active"><a href="../../archSpec/base/merging-index-elements.html">Merging index elements</a></li><li><a href="../../archSpec/base/examples-indexing.html">Examples of indexing</a></li></ul></li><li><a href="../../archSpec/base/conref.html">Content reference (conref)</a></li><li><a href="../../archSpec/base/condproc.html">Conditional processing</a></li><li><a href="../../archSpec/base/branch-filtering.html">Branch filtering</a></li><li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li><li><a href="../../archSpec/base/determining-effective-attribute-values.html">Determining effective attribute values</a></li></ul></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Merging index elements</h1>
   
   
   <div class="body conbody"><p class="shortdesc">Processors merge indexing elements in order to construct the effective index for a
        publication.</p>
      <span class="undefined_element">Processors <span class="undefined_element">SHOULD</span> use the following criteria to match
            the content of <span class="undefined_element">indexterm</span> elements:<span class="undefined_element">
            <span class="undefined_element">Ignore leading and trailing whitespace, as well as newline characters</span>
            <span class="undefined_element">Be case sensitive</span>
            <span class="undefined_element"></span>
         </span>
      </span>
      <span class="undefined_element">It is implementation-dependent as to whether processors consider the presence of
            phrase-level markup within <span class="undefined_element">indexterm</span> elements when performing a
            matching operation.</span>
      <span class="undefined_element">
         <span class="undefined_element">This is a new topic. It needs to lay out the rules and expectations for how a
                processor merges indexing elements and constructs the effective index,
                including:</span>
         <span class="undefined_element">
            <span class="undefined_element">Matching the content of indexing elements</span>
            <span class="undefined_element">Constructing multilevel index entries (as suggested in <span class="undefined_element">Example: Merging indexterm elements<span class="undefined_element">This example contains a multilevel <span class="undefined_element">indexterm</span>     element.</span>
               </span>)</span>
         </span>
         <span class="undefined_element">What are other critical aspects?</span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Do we make the following RFC-2119 statement for DITA 2.0. Thoughts?</span>
         <span class="undefined_element">FYI, the following text appeared in the DITA 1.1 - 1.3 specs: <span class="undefined_element">All indexterms with
                    the same content are ″merged″ to form a single index entry in the resulting
                    index, and all contributed page numbers are included in that index
                entry.</span>
         </span>
      </span>
      <span class="undefined_element">(For processors that support indexing) If multiple <span class="undefined_element">indexterm</span>
            elements exist that would result in matching index entries, a processor <span class="undefined_element">SHOULD</span> generate only a single index entry, although
            all locations associated with the <span class="undefined_element">indexterm</span> element contribute
            locators.</span>
      <span class="undefined_element">
         <span class="undefined_element">This is the correct behavior. By "identical content" is a little too strict. Probably
                need to say something like "content that the processor considers to be the same. For
                example, by normalizing white space."</span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Eliot raised the following scenario in his review of the indexing content:</span>
         <span class="undefined_element">Consider a publication that contains the following index markup in different
                topics:</span>
         <span class="undefined_element">&lt;!-- Topic A --&gt;
&lt;indexterm&gt;apple&lt;/indexterm&gt;

&lt;!-- Topic B --&gt;
&lt;indexterm&gt;apple
  &lt;indexterm&gt;computer&lt;/indexterm&gt;
&lt;/indexterm&gt;</span>
         <span class="undefined_element">What would the author of topic A expect to see in the index? What would the author of
                topic B expect to see? How might this combine with indexing markup added at the map
                level by the map owner?</span>
         <span class="undefined_element">Eliot suggested that a processor might produce any of the following (arrow character
                used to indicate  indentation):</span>
         <span class="undefined_element">
            <span class="undefined_element">Option #1</span>
apple 12
͢computer 14

<span class="undefined_element">Option #2</span>
apple 12
apple
͢computer 14

<span class="undefined_element">
Option #3</span>
apple
͢computer 14
</span>
         <span class="undefined_element">My personal expectation would be to expect to see option #1, which matches the
                statement made in the DITA 1.1-1.3 specs: <span class="undefined_element">All indexterms with the same content
                    are ″merged″ to form a single index entry in the resulting index, and all
                    contributed page numbers are included in that index entry.</span>
         </span>
         <span class="undefined_element">If a company's styleguide does not want locators on parents of leaf nodes, I'd expect
                authors to spend time "massaging" index markup in order to generate an index that
                followed the styleguide requirements.</span>
      </span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/indexes.html" title="Processors can generate an index from the content of indexing elements.">Indexes</a></div></div></nav>
</article></main>
