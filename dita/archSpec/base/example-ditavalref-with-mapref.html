---
# Generated from DITA source
layout: base
title: 'Example: Single ditavalref in a reference to a map'
description: 'In this scenario, a ditavalref element is used when referencing a map. This is equivalent to setting filtering conditions for the referenced map.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/navigation.html">Navigation</a></li><li><a href="../../archSpec/base/indexes.html">Indexes</a></li><li><a href="../../archSpec/base/conref.html">Content reference (conref)</a></li><li><a href="../../archSpec/base/condproc.html">Conditional processing</a></li><li><a href="../../archSpec/base/branch-filtering.html">Branch filtering</a><ul class="nav nav-list"><li><a href="../../archSpec/base/branch-filtering-overview.html">Overview of branch filtering</a></li><li><a href="../../archSpec/base/branch-filtering-interactions.html">How filtering rules interact</a></li><li><a href="../../archSpec/base/branch-filtering-single-set.html">Branch filtering: Single referenced DITAVAL document for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-multiple-sets.html">Branch filtering: Multiple referenced DITAVAL documents for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-resource-names.html">Branch filtering: Impact on resource and key names</a></li><li><a href="../../archSpec/base/branch-filtering-implications-of-processing-order.html">Branch filtering: Implications of processing order</a></li><li><a href="../../archSpec/base/examples-of-branch-filter.html">Examples of branch filtering</a><ul class="nav nav-list"><li><a href="../../archSpec/base/example-single-ditavalref-on-branch.html">Example: Single ditavalref on a branch</a></li><li><a href="../../archSpec/base/example-multiple-ditavalref.html">Example: Multiple ditavalref elements on a branch</a></li><li><a href="../../archSpec/base/example-ditavalref-as-child-of-map.html">Example: Single ditavalref as a child of map</a></li><li class="active"><a href="../../archSpec/base/example-ditavalref-with-mapref.html">Example: Single ditavalref in a reference to a map</a></li><li><a href="../../archSpec/base/example-multiple-ditavalref-as-child-of-map.html">Example: Multiple ditavalref elements as children of map in a root map</a></li><li><a href="../../archSpec/base/example-multiple-ditavalref-with-mapref.html">Example: Multiple ditavalref elements in a reference to a map</a></li><li><a href="../../archSpec/base/example-ditavalref-in-filtered-branch.html">Example: ditavalref within a branch that already uses ditavalref</a></li><li><a href="../../archSpec/base/example-ditavalref-error-conditions.html">Example: ditavalref error conditions</a></li></ul></li></ul></li><li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li><li><a href="../../archSpec/base/determining-effective-attribute-values.html">Determining effective attribute values</a></li></ul></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Example: Single <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> in a reference to a map</h1>
   
   
   <div class="body conbody"><p class="shortdesc">In this scenario, a <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element is used when
    referencing a map. This is equivalent to setting filtering conditions for the referenced
    map.</p>
      <span class="undefined_element">
         <span class="undefined_element">In the following example, <span class="undefined_element">other.ditamap</span> is referenced by a root map.
        The <span class="undefined_element">ditavalref</span> element indicates that all of the content in
          <span class="undefined_element">other.ditamap</span> is filtered using the conditions specified in the
          <span class="undefined_element">some.ditaval</span> document.</span>
         <span class="undefined_element">
            <span class="undefined_element">Map fragment</span>
            <span class="undefined_element">&lt;topicref href="parent.dita"&gt;
  &lt;topicref href="other.ditamap" format="ditamap"&gt;
    &lt;ditavalref href="some.ditaval"/&gt;
  &lt;/topicref&gt;
&lt;/topicref&gt;</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Contents of <span class="undefined_element">other.ditamap</span>
            </span>
            <span class="undefined_element">&lt;map&gt;
  &lt;topicref href="nestedTopic1.dita"&gt;
    &lt;topicref href="nestedTopic2.dita"/&gt;
  &lt;/topicref&gt;
  &lt;topicref href="nestedTopic3.dita"/&gt;
&lt;/map&gt;</span>
         </span>
         <span class="undefined_element">This markup is functionally equivalent to applying the conditions in
          <span class="undefined_element">some.ditaval</span> to the topics that are referenced in the nested map. For
        the purposes of filtering, it could be rewritten in the following way. The extra
          <span class="undefined_element">topicgroup</span> container is used here to ensure filtering is not
        applied to <span class="undefined_element">parent.dita</span>, as it would not be in the original
        example:<span class="undefined_element">&lt;topicref href="parent.dita"&gt;
  <span class="undefined_element">&lt;topicgroup&gt;</span>
    &lt;ditavalref href="some.ditaval"/&gt;
    &lt;topicref href="nestedTopic1.dita"&gt;
      &lt;topicref href="nestedTopic2.dita"/&gt;
    &lt;/topicref&gt;
    &lt;topicref href="nestedTopic3.dita"/&gt;
  <span class="undefined_element">&lt;/topicgroup&gt;</span>
&lt;/topicref&gt;
</span>
         </span>
         <span class="undefined_element">For the purposes of filtering, this map also could be rewritten as follows. </span>
         <span class="undefined_element">&lt;topicref href="parent.dita"&gt;
  &lt;topicref href="nestedTopic1.dita"&gt;
    <span class="undefined_element">&lt;ditavalref href="some.ditaval"/&gt;</span>
    &lt;topicref href="nestedTopic2.dita"/&gt;
  &lt;/topicref&gt;
  &lt;topicref href="nestedTopic3.dita"&gt;
    <span class="undefined_element">&lt;ditavalref href="some.ditaval"/&gt;</span>
  &lt;/topicref&gt;
&lt;/topicref&gt;
</span>
         <span class="undefined_element">Filtering based on the <span class="undefined_element">ditavalref</span> element
        applies to the containing element and its children, so in each case, the files
          <span class="undefined_element">nestedTopic1.dita</span>, <span class="undefined_element">nestedTopic2.dita</span>, and
          <span class="undefined_element">nestedTopic3.dita</span> are filtered against the conditions specified in
          <span class="undefined_element">some.ditaval</span>. In each version, <span class="undefined_element">parent.dita</span> is
        not a parent for the <span class="undefined_element">ditavalref</span>, so it is not filtered.</span>
      </span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/examples-of-branch-filter.html" title="The branch filtering examples illustrate the processing expectations for various scenarios that involve ditavalref elements. Processing examples use either before and after sample markup or expanded syntax that shows the equivalent markup without the ditavalref elements.">Examples of branch filtering</a></div></div></nav>
</article></main>
