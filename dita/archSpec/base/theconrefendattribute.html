---
# Generated from DITA source
layout: base
title: 'The conrefend attribute'
description: 'The conrefend attribute is used when referencing a range of elements with the conref mechanism. The conref or conkeyref attribute references the first element in the range, while conrefend references the last element in the range.'
index: '../../toc.html'
notices: '../../resources/oasis-notices.html'
commit: 'adaf2c7cf4d9c09d789de4e79b975464ce855129'
repository: 'oasis-tcs/dita'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../non-normative/developing-constraint-and-expansion-modules.html">Constraint modules</a></li><li><a href="../../non-normative/expansion-modules.html">Expansion modules</a></li><li><a href="../../non-normative/elementsMerged.html">Element-by-element recommendations for translators</a></li><li><a href="../../non-normative/formatting-expectations.html">Formatting expectations</a></li><li><a href="../../non-normative/migrating-to-dita-2.0.html">Migrating to DITA 2.0</a></li><li><a href="../../non-normative/basedoctypes.html">OASIS grammar files</a></li><li><a href="../../non-normative/interoperability-considerations.html">Processing interoperability considerations</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">The <code class="keyword markupname xmlatt">@conrefend</code> attribute</h1>
   
   
   <div class="body refbody"><p class="shortdesc">The <code class="keyword markupname xmlatt">@conrefend</code> attribute is used when referencing a range of elements
    with the conref mechanism. The <code class="keyword markupname xmlatt">@conref</code> or <code class="keyword markupname xmlatt">@conkeyref</code> attribute
    references the first element in the range, while <code class="keyword markupname xmlatt">@conrefend</code> references the last
    element in the range. </p>
      <span class="undefined_element">
         <span class="undefined_element">This topic is moving into the arch spec,
        but needs further editing to split overview / conceptual info from processing info; this and
        other conref-attribute topics currently have a bunch of processing info that is missing from
        the actual "Processing conref" arch spec topics.</span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Using <span class="undefined_element">conref</span> together with
          <span class="undefined_element">conrefend</span>
         </span>
         <span class="undefined_element">The following markup rules apply when using or implementing <span class="undefined_element">conrefend</span>:<span class="undefined_element">
               <span class="undefined_element">The start and end elements of a range <span class="undefined_element">MUST</span> be of
            the same type as the referencing element or generalizable to the referencing
            element.</span>
               <span class="undefined_element">The start and end elements in a range <span class="undefined_element">MUST</span> share
            the same parent, and the start element <span class="undefined_element">MUST</span> precede
            the end element in document order.</span>
               <span class="undefined_element">The parent of the referencing element <span class="undefined_element">MUST</span> be the
            same as the parent of the referenced range or generalizable to the parent of the
            referencing element.
            </span>
            </span>
         </span>
         <span class="undefined_element">In addition, several other items must be taken into account:</span>
         <span class="undefined_element">
            <span class="undefined_element">Processors will resolve the range by pulling in the start target and following sibling
          XML nodes across to and including the end target.</span>
            <span class="undefined_element">As with <span class="undefined_element">conref</span>, if the <span class="undefined_element">conrefend</span> references a more
          specialized version of the referencing element, applications should generalize the target
          when resolving. </span>
            <span class="undefined_element">It is not valid to use <span class="undefined_element">conrefend</span> to reference a more general version of
          an element (such as using <span class="undefined_element">step</span> to reference an
            <span class="undefined_element">li</span> element).</span>
            <span class="undefined_element">Other nodes (such as elements or text) between the start and end of a range do not have
          to match the referencing element.</span>
            <span class="undefined_element">With single conref, an <span class="undefined_element">id</span> attribute from the referenced element will
          not be preserved on the resolved content. With a range, an <span class="undefined_element">id</span> on both the
          start and the end elements will not be preserved. <span class="undefined_element">id</span> attributes on
          intermediate or child nodes should be preserved; if this results in duplicate
            <span class="undefined_element">id</span> values, an application <span class="undefined_element">can recover by changing the
              <span class="undefined_element">id</span>, warning the user, or implementing another strategy.</span>
            </span>
            <span class="undefined_element">With a single conref, attributes specified on the referencing element<span class="undefined_element">can</span> be
          used to override attributes on the referenced element. With a conref range, the same is
          true, with the following clarifications: <span class="undefined_element">
                  <span class="undefined_element">When an <span class="undefined_element">id</span> attribute is specified on the referencing element, it
              will only be preserved on the first element of the resolved range.</span>
                  <span class="undefined_element">When other attributes are specified, they will only apply to referenced elements of
              the same type. For example, if <span class="undefined_element">step</span> is used to pull in a
              range of sequential <span class="undefined_element">step</span> elements, locally specified
              attributes apply to all steps in the range. If <span class="undefined_element">ol</span> is used to
              pull in a series of (<span class="undefined_element">ol</span>, <span class="undefined_element">p</span>,
                <span class="undefined_element">ol</span>), locally specified attributes apply only to the
                <span class="undefined_element">ol</span> elements in that range.</span>
               </span>
            </span>
         </span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Example: reusing a set of list items</span>
         <span class="undefined_element">
            <span class="undefined_element">List example: Source <span class="undefined_element">topic.dita</span> with ids</span>
            <span class="undefined_element">&lt;topic id="x"&gt;
  &lt;title&gt;Sample file topic.dita&lt;/title&gt;
  &lt;body&gt;
    &lt;ol&gt;
      &lt;li id="apple"&gt;A&lt;/li&gt;
      &lt;li id="bear"&gt;B&lt;/li&gt;
      &lt;li id="cat"&gt;C&lt;/li&gt;
      &lt;li id="dog"&gt;D&lt;/li&gt;
      &lt;li id="eel"&gt;E&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">List example: Reusing topic with conrefs</span>
            <span class="undefined_element">&lt;topic id="y"&gt;
  &lt;title&gt;Sample file reusing content&lt;/title&gt;
  &lt;body&gt;
    &lt;ol&gt;
      &lt;li&gt;My own first item&lt;/li&gt;
      &lt;li conref="topic.dita#x/bear" conrefend="topic.dita#x/dog"/&gt;
      &lt;li&gt;And a different final item&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">List example: Processed result of reusing topic</span>
            <span class="undefined_element">&lt;topic id="y"&gt;
  &lt;title&gt;Sample file reusing content&lt;/title&gt;
  &lt;body&gt;
    &lt;ol&gt;
      &lt;li&gt;My own first item&lt;/li&gt;
      &lt;li&gt;B&lt;/li&gt;
      &lt;li id="cat"&gt;C&lt;/li&gt;
      &lt;li&gt;D&lt;/li&gt;
      &lt;li&gt;And a different final item&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
         </span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Example: Reusing a set of blocks</span>
         <span class="undefined_element">
            <span class="undefined_element">Block level example: Source <span class="undefined_element">topic.dita</span> with ids</span>
            <span class="undefined_element">&lt;topic id="x"&gt;
  &lt;title&gt;Sample file topic.dita&lt;/title&gt;
  &lt;body&gt;
    &lt;p id="p1"&gt;First para&lt;/p&gt;
    &lt;ol id="mylist"&gt;
      &lt;li id="apple"&gt;A&lt;/li&gt;
      &lt;li id="bear"&gt;B&lt;/li&gt;
      &lt;li id="cat"&gt;C&lt;/li&gt;
      &lt;li id="dog"&gt;D&lt;/li&gt;
      &lt;li id="eel"&gt;E&lt;/li&gt;
    &lt;/ol&gt;
    &lt;p id="p2"&gt;Second para&lt;/p&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Block level example: Reusing topic with conrefs</span>
            <span class="undefined_element">&lt;topic id="y"&gt;
  &lt;title&gt;Sample file reusing content&lt;/title&gt;
  &lt;body&gt;
    &lt;p conref="topic.dita#x/p1" conrefend="topic.dita#x/p2"/&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Block level example: Processed result of reusing topic</span>
            <span class="undefined_element">&lt;topic id="y"&gt;
  &lt;title&gt;Sample file reusing content&lt;/title&gt;
  &lt;body&gt;
    &lt;p&gt;First para&lt;/p&gt;
    &lt;ol id="mylist"&gt;
      &lt;li id="apple"&gt;A&lt;/li&gt;
      &lt;li id="bear"&gt;B&lt;/li&gt;
      &lt;li id="cat"&gt;C&lt;/li&gt;
      &lt;li id="dog"&gt;D&lt;/li&gt;
      &lt;li id="eel"&gt;E&lt;/li&gt;
    &lt;/ol&gt;
    &lt;p&gt;Second para&lt;/p&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
         </span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Using <span class="undefined_element">conrefend</span> together with <span class="undefined_element">conkeyref</span>
         </span>
         <span class="undefined_element">When the <span class="undefined_element">conkeyref</span> attribute is used in place of <span class="undefined_element">conref</span>,
        a key is used to address the target of the reference. The <span class="undefined_element">conrefend</span>
        attribute, which indicates the end of a <span class="undefined_element">conref</span> range, cannot use a key.
        Instead the map or topic element addressed by the key name component of the
          <span class="undefined_element">conkeyref</span> is used in place of whatever map or topic element is addressed
        by the <span class="undefined_element">conrefend</span> attribute.</span>
         <span class="undefined_element">For example, if the value of the <span class="undefined_element">conkeyref</span> attribute is
          <span class="undefined_element">config/step1</span> and the value of the <span class="undefined_element">conrefend</span> is
          <span class="undefined_element">defaultconfig.dita#config/laststep</span>, the conref range will end with the
        step that has <span class="undefined_element">id="laststep"</span> in whatever topic is addressed by the key name
          <span class="undefined_element">config</span>. If the key name <span class="undefined_element">config</span> is not defined, and
        the <span class="undefined_element">conref</span> attribute itself is not present for fallback, the
          <span class="undefined_element">conrefend</span> attribute is ignored.</span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Example: Combining <span class="undefined_element">conrefend</span> with <span class="undefined_element">conkeyref</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Defining and referencing a key with <span class="undefined_element">conkeyref</span>
            </span>
            <span class="undefined_element">In this example the key <span class="undefined_element">xmp</span> is defined as the first topic in the file
            <span class="undefined_element">examples.dita.</span>
            </span>
            <span class="undefined_element">&lt;map&gt;
  &lt;!-- ... --&gt;
  &lt;keydef keys="xmp" href="examples.dita"/&gt;
  &lt;!-- ... --&gt;
&lt;/map&gt;</span>
            <span class="undefined_element">&lt;!-- examples.dita: --&gt;
&lt;topic id="examples"&gt;
  &lt;title&gt;These are examples&lt;/title&gt;
  &lt;body&gt;
    &lt;ul&gt;
      &lt;li id="first"&gt;A first example&lt;/li&gt;
      &lt;li&gt;Another trivial example&lt;/li&gt;
      &lt;li id="last"&gt;Final example&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/topic&gt;</span>
            <span class="undefined_element">To reuse these list items by using the key, the <span class="undefined_element">conkeyref</span> attribute
          combines the key itself with the sub-topic id (first) to define the start of the range.
          The <span class="undefined_element">conrefend</span> attribute defines a default high-level object along with
          the sub-topic id (last) that ends the
          range:<span class="undefined_element">  &lt;li conkeyref="xmp/first" 
      conrefend="default.dita#default/last"/&gt;</span>
            </span>
            <span class="undefined_element">The <span class="undefined_element">conkeyref</span> attribute uses a key to reference the first topic in
            <span class="undefined_element">examples.dita</span>, so the range begins with the object
            <span class="undefined_element">examples.dita#examples/first</span>. The high-level object in the
            <span class="undefined_element">conrefend</span> attribute (<span class="undefined_element">default.dita#default</span>) is replaced
          with the object represented by the key (the first topic in
            <span class="undefined_element">examples.dita</span>), resulting in a range that ends with the object
            <span class="undefined_element">examples.dita#examples/last</span>.</span>
         </span>
         <span class="undefined_element">
            <span class="undefined_element">Combining <span class="undefined_element">conref</span>, <span class="undefined_element">conkeyref</span>, and
            <span class="undefined_element">conrefend</span>
            </span>
            <span class="undefined_element">When <span class="undefined_element">conref</span>, <span class="undefined_element">conkeyref</span>, and <span class="undefined_element">conrefend</span>
          are all specified, the key value takes priority.</span>
            <span class="undefined_element">  &lt;li conkeyref="thisconfig/start"
      conref="standardconfig.dita#config/start"
      conrefend="standardconfig.dita#config/end"/&gt;</span>
            <span class="undefined_element">
               <span class="undefined_element">If the key <span class="undefined_element">thisconfig</span> is defined as
              <span class="undefined_element">mySpecialConfig.dita#myconfig</span>, then the range will go from the list
            item with <span class="undefined_element">id="start"</span> to the list item with<span class="undefined_element">id="end"</span> in
            the topic <span class="undefined_element">mySpecialConfig.dita#myconfig</span>.</span>
               <span class="undefined_element">If the key <span class="undefined_element">thisconfig</span> is defined as <span class="undefined_element">myConfig.dita</span>,
            then the range will go from the list item with <span class="undefined_element">id="start"</span> to the list
            item with <span class="undefined_element">id="end"</span> within the first topic in
              <span class="undefined_element">myConfig.dita</span>.</span>
               <span class="undefined_element">If the key <span class="undefined_element">thisconfig</span> is not defined, then the unchanged
              <span class="undefined_element">conref</span> and <span class="undefined_element">conrefend</span> attributes are used as
            fallback. In that case, the range will go from the list item with
              <span class="undefined_element">id="start"</span> to the list item with <span class="undefined_element">id="end"</span> within the
            topic <span class="undefined_element">standardconfig.dita#config</span>.</span>
            </span>
         </span>
      </span>
      <span class="undefined_element">
         <span class="undefined_element">Error conditions</span>
         <span class="undefined_element">
            <span class="ph error-statement"></span>When encountering an error condition, an implementation can issue an error message.</span>
         <span class="undefined_element">
            <span class="undefined_element">
               <span class="undefined_element"></span>
               <span class="undefined_element"></span>
               <span class="undefined_element">
                  <span class="undefined_element">
                     <span class="undefined_element">Condition or Issue</span>
                     <span class="undefined_element">Result</span>
                  </span>
               </span>
               <span class="undefined_element">
                  <span class="undefined_element">
                     <span class="undefined_element">The <span class="undefined_element">conref</span> attribute cannot be resolved in the
                target document (the target element <span class="undefined_element">might</span> have been removed or its id has
                changed). </span>
                     <span class="undefined_element">The <span class="undefined_element">conref</span> is ignored.</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">The <span class="undefined_element">conrefend</span> attribute cannot be resolved in
                the target document (the target element <span class="undefined_element">might</span> have been removed or its id
                has changed).</span>
                     <span class="undefined_element">Range cannot be resolved, optional recovery processes the result
                as a simple conref.</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">Start and end elements are not siblings in the target
                document.</span>
                     <span class="undefined_element">If the start element exists, optional recovery processes the
                result as a simple conref. </span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">End element occurs before the start element in the target
                document.</span>
                     <span class="undefined_element">If the start element exists, optional recovery processes the
                result as a simple conref.</span>
                  </span>
                  <span class="undefined_element">
                     <span class="undefined_element">An element has a <span class="undefined_element">conrefend</span> attribute but is
                missing the <span class="undefined_element">conref</span> attribute.</span>
                     <span class="undefined_element">No result.</span>
                  </span>
               </span>
            </span>
         </span>
      </span>
   </div>
   <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/conref.html" title="The DITA conref attributes provide mechanisms for reusing content. DITA content references support reuse scenarios that are difficult or impossible to implement using other XML-based inclusion mechanisms like XInclude and entities. Additionally, DITA content references have rules that help ensure that the results of content inclusion remain valid after resolution">Content reference (conref)</a></div></div></nav>
</article></main>
