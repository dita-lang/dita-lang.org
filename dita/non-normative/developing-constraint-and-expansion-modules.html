---
layout: base.njk
title: ''
index: '../toc.html'
notices: '../resources/oasis-notices.html'
commit: '243896ef3870f480d9fcc58f5e2afb91c6dc5f00'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="toc" role="toc"><ul><li><a href="../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="../langRef/langRef-base.html">Element reference</a></li><li><a href="../conformance/conformance.html">Conformance</a></li><li><a href="../acknowledgments/acknowledgments.html#r-acknowledgments">Acknowledgments</a></li><li><a href="../non-normative/aggregated-RFC-2119-statements.html#aggregated-RFC-2119-statements">Aggregated RFC-2119 statements</a></li><li><a href="../archSpec/base/coding-requirements.html#coding-practices">Coding practices for DITA grammar files</a></li><li class="active"><a href="../non-normative/developing-constraint-and-expansion-modules.html#developing-constraint-and-expansion-modules">Constraint modules</a><ul class="nav nav-list"><li><a href="../non-normative/developing-constraint-and-expansion-modules.html#concept_ghv_45r_5p">Examples: Constraints implemented using DTDs</a></li><li><a href="../non-normative/developing-constraint-and-expansion-modules.html#examples-constraints-implemented-using-rng">Examples: Constraints implemented using RNG</a></li></ul></li><li><a href="../non-normative/expansion-modules.html#expansion-modules">Expansion modules</a></li><li><a href="../non-normative/elementsMerged.html#elements">Element-by-element recommendations for translators</a></li><li><a href="../non-normative/formatting-expectations.html#formatting-expectations">Formatting expectations</a></li><li><a href="../non-normative/migrating-to-dita-2.0.html#migrating-to-dita-2.0">Migrating to DITA 2.0</a></li><li><a href="../non-normative/basedoctypes.html#oasisdomains">OASIS grammar files</a></li><li><a href="../non-normative/interoperability-considerations.html#nteroperability-considerations">Processing interoperability considerations</a></li><li><a href="../non-normative/revision-history.html#revision-history">Revision history</a></li></ul></nav><main role="main" class=""><article role="article" aria-labelledby="ariaid-title1"><article class="nested0" aria-labelledby="ariaid-title1" id="developing-constraint-and-expansion-modules">
    <h1 class="title topictitle1" id="ariaid-title1">Constraint modules</h1>
    <div class="body"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">This section of the specification contains examples of
    constraint modules implemented using both DTD and RNG.</p></div>
<nav role="navigation" class="related-links"><div class="linklist relconcepts"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="../Chunk1386882978.html#concept_sv4_2gm_vp" title="Constraint modules restrict content models or attribute lists for specific element types, remove certain extension elements from an integrated domain module, or replace base element types with domain-provided, extension element types.">Constraints</a></li></ul></div></nav><article class="topic concept nested1 non-normative" aria-labelledby="ariaid-title2" lang="en-us" id="concept_ghv_45r_5p">
 <h2 class="title topictitle2" id="ariaid-title2">Examples: Constraints implemented using DTDs</h2>
 <div class="body"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">This section of the specification contains examples of constraints implemented using
  DTD.</p></div>
<nav role="navigation" class="related-links"><div class="linklist relconcepts" lang="en-us"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="../archSpec/base/coding-requirements.html#dtd_coding_requirements_for_element_configuration_modules" title="Element-configuration modules (constraint and expansion) have specific coding requirements.">DTD: Coding requirements for element-configuration modules</a></li></ul></div></nav><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title3" lang="en-us" id="reference_cfb_ck4_5p">
  <h3 class="title topictitle3" id="ariaid-title3">Example: <span style="color:red;" class="ph">Restrict</span> the content model for
    the <code class="keyword markupname xmlelement">&lt;topic&gt;</code> element using DTD</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">the DITA architect</span> for
    Acme Incorporated wants to redefine the content model for the topic
    document type. <span class="ph">They want</span><span style="color:red;" class="ph"> to omit
      certain elements,  make the <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code>
      element required, and disallow topic nesting.</span></p>
    <p style="color:red;" class="p">Specifically, the DITA architect wants to redefine
      the content model in the following ways:</p>
    <ul style="color:red;" class="ul">
      <li class="li">Remove <code class="keyword markupname xmlelement">&lt;abstract&gt;</code></li>
      <li class="li">Require <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code></li>
      <li class="li">Remove <code class="keyword markupname xmlelement">&lt;related-links&gt;</code></li>
      <li class="li">Remove the <code class="keyword markupname parameterentity">%task-info-types;</code>
        entity in order to disallow topic nesting</li>
    </ul>
    <ol class="ol">
      <li class="li"><span class="ph">The DITA architect creates a constraint module: </span>
        <span class="ph filepath">acme-TopicConstraint.mod</span>.</li>
      <li class="li"><span class="ph">They add</span> the following content to
          <span class="ph filepath">acme-TopicConstraint.mod</span>:<pre class="pre codeblock"><code>
&lt;!-- ============================================================= --&gt;
&lt;!--                    CONSTRAINED TOPIC ENTITIES                 --&gt;
&lt;!-- ============================================================= --&gt;

&lt;!-- Declares the entities referenced in the constrained content  --&gt;
&lt;!-- model.                                                       --&gt;

&lt;!ENTITY % title            "title"&gt;
&lt;!ENTITY % shortdesc        "shortdesc"&gt;
&lt;!ENTITY % prolog           "prolog"&gt;
&lt;!ENTITY % body             "body"&gt;

&lt;!-- Defines the constrained content model for &lt;topic&gt;.            --&gt;

&lt;!ENTITY % topic.content
                       "((%title;),
                         (%shortdesc;), 
                         (%prolog;)?, 
                         (%body;)?)"
&gt;</code></pre></li>
      <li class="li"><span class="ph">They add</span> the constraint module to the
          <span class="ph filepath">catalog.xml</span> file.</li>
      <li class="li"><span class="ph">They then integrate</span> the constraint module into
        the document-type shell for topic by adding the following <span style="color:red;" class="ph">content to the "Element-Type Configuration
          Integration
        section</span>:<pre class="pre codeblock"><code>&lt;!-- ============================================================= --&gt;
&lt;!--           ELEMENT-TYPE CONFIGURATION INTEGRATION              --&gt;
&lt;!-- ============================================================= --&gt;

<strong class="ph b">&lt;!ENTITY % topic-constraints-c-def  
  PUBLIC "-//ACME//ELEMENTS DITA Topic Constraint//EN" 
  "acme-TopicConstraint.mod"&gt;
%topic-constraints-c-def;</strong></code></pre></li>
      <li class="li"><span style="color:red;" class="ph">They check their</span> test topic to ensure
        that the content model is modified as expected.</li>
    </ol>
  </div>
  
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title4" lang="en-us" id="unique_308217286">
  <h3 class="title topictitle3" id="ariaid-title4">Example: Constrain attributes for the <code class="keyword markupname xmlelement">&lt;section&gt;</code> element using
    DTD</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, a <span class="ph">DITA architect</span> wants to
    redefine the attributes for the <code class="keyword markupname xmlelement">&lt;section&gt;</code>
    element. <span class="ph">They want</span> to make the <code class="keyword markupname xmlatt">@id</code>
    attribute required.</p>
    <div class="example non-normative" id="unique_308217286__example"><h4 class="title sectiontitle">Example</h4><p class="non-normative-label">This section is non-normative.</p>
      <ol class="ol">
        <li class="li">The DITA architect creates a constraint module:
            <span class="ph filepath">idRequiredSectionContraint.mod</span>.</li>
        <li class="li"><span class="ph">They add</span> the following content to
            <span class="ph filepath">idRequiredSectionContraint.mod</span>:<pre class="pre codeblock"><code>&lt;!-- Declares the entities referenced in the constrained content  --&gt;
&lt;!-- model.                                                       --&gt;

&lt;!ENTITY % localization-atts
              "translate
                          (no |
                           yes |
                           -dita-use-conref-target)
                                    #IMPLIED
               xml:lang
                          CDATA
                                    #IMPLIED
               dir
                          (lro |
                           ltr |
                           rlo |
                           rtl |
                           -dita-use-conref-target)
                                    #IMPLIED"
&gt;
&lt;!ENTITY % filter-atts
              "props
                          CDATA
                                    #IMPLIED
               %props-attribute-extensions;"
&gt;
&lt;!ENTITY % select-atts
              "%filter-atts;
               base
                          CDATA
                                    #IMPLIED
               %base-attribute-extensions;
               importance
                          (default |
                           deprecated |
                           high |
                           low |
                           normal |
                           obsolete |
                           optional |
                           recommended |
                           required |
                           urgent |
                           -dita-use-conref-target)
                                    #IMPLIED
               rev
                          CDATA
                                    #IMPLIED
               status
                          (changed |
                           deleted |
                           new |
                           unchanged |
                           -dita-use-conref-target)
                                    #IMPLIED"
&gt;
&lt;!ENTITY % conref-atts
              "conref
                          CDATA
                                    #IMPLIED
               conrefend
                          CDATA
                                    #IMPLIED
               conaction
                          (mark |
                           pushafter |
                           pushbefore |
                           pushreplace |
                           -dita-use-conref-target)
                                    #IMPLIED
               conkeyref
                          CDATA
                                    #IMPLIED"
&gt;
&lt;!-- Redefines the attributes available on section  --&gt;

&lt;!ENTITY % section.attributes
              "id
                          ID
                                    #REQUIRED
               %conref-atts;
               %select-atts;
               %localization-atts;
               outputclass
                          CDATA
                                    #IMPLIED"
&gt;</code></pre><p class="p"><span style="color:red;" class="ph">Note that the</span> DITA
            architect had to declare all the parameter entities that are
            referenced in the redefined attributes for
              <code class="keyword markupname xmlelement">&lt;section&gt;</code>. If <span class="ph">they</span>
            did not do so, none of the attributes that are declared in the
            parameter entities would be available on the
              <code class="keyword markupname xmlelement">&lt;section&gt;</code> element. Furthermore, since
            the <code class="keyword markupname parameterentity">%select-atts;</code> parameter
            entity references the
              <code class="keyword markupname parameterentity">%filter-atts;</code> parameter
            entity, the <code class="keyword markupname parameterentity">%filter-atts;</code> must
            be declared and it must precede the declaration for the
              <code class="keyword markupname parameterentity">%select-atts;</code> parameter
            entity. The
              <code class="keyword markupname parameterentity">%props-attribute-extensions;</code>
            and
              <code class="keyword markupname parameterentity">%base-attribute-extensions;</code>
            parameter entities do not need to be declared in the constraint
            module, because they are declared in the document-type shells
            before the inclusion of the constraint module.</p></li>
        <li class="li"><span class="ph">They add</span> the constraint module to the
            <span class="ph filepath">catalog.xml</span> file.</li>
        <li class="li"><span class="ph">They then integrate</span> the constraint module
          into the applicable document-type shells<span style="color:red;" class="ph"> by
            adding the following
          code</span>:<pre style="color:red;" class="pre codeblock"><code>&lt;!-- ============================================================= --&gt;
&lt;!--           ELEMENT-TYPE CONFIGURATION INTEGRATION              --&gt;
&lt;!-- ============================================================= --&gt;

<strong class="ph b">&lt;!ENTITY % section-constraints-c-def  
  PUBLIC "-//ACME//ELEMENTS DITA 2.0 Section Constraint//EN" 
  "idRequiredSectionContraint.mod"&gt;
%section-constraints-c-def;</strong></code></pre></li>
        <li class="li"><span style="color:red;" class="ph">They check their</span> test topic to ensure
          that the attribute list is modified as expected.</li>
      </ol>
    </div>
  </div>
  
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title5" lang="en-us" id="unique_1811944309">
  <h3 class="title topictitle3" id="ariaid-title5">Example: Constrain a domain module using DTD</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">a DITA architect</span> wants to
    use only a subset of the elements defined in the highlighting domain.
      <span class="ph">They want</span> to use <code class="keyword markupname xmlelement">&lt;b&gt;</code> and
      <code class="keyword markupname xmlelement">&lt;i&gt;</code> but not <span style="color:red;" class="ph">any other of
      the elements in the domain</span>. <span class="ph">They want</span> to
    integrate this constraint into the document-type shell for
    task.</p>
    <p style="color:red;" class="p">Specifically, the DITA architect wants to redefine
      the content model in the following ways:</p>
    <ul style="color:red;" class="ul">
      <li class="li">Use <code class="keyword markupname xmlelement">&lt;b&gt;</code> and
        <code class="keyword markupname xmlelement">&lt;i&gt;</code></li>
      <li class="li">Remove <code class="keyword markupname xmlelement">&lt;line-through&gt;</code>,
          <code class="keyword markupname xmlelement">&lt;overline&gt;</code>, <code class="keyword markupname xmlelement">&lt;sup&gt;</code>,
          <code class="keyword markupname xmlelement">&lt;sup&gt;</code>, <code class="keyword markupname xmlelement">&lt;tt&gt;</code>, and
          <code class="keyword markupname xmlelement">&lt;u&gt;</code></li>
    </ul>
    <ol class="ol">
      <li class="li">The DITA architect creates a constraint module:
          <span class="ph filepath">acme-HighlightDomainConstraint.mod</span>.</li>
      <li class="li"><span class="ph">They add</span> the following content to
          <span class="ph filepath">acme-HighlightDomainConstraint.mod</span>:<pre class="pre codeblock"><code>&lt;!-- ============================================================= --&gt;
&lt;!--      CONSTRAINED HIGHLIGHT DOMAIN ENTITIES                    --&gt;
&lt;!-- ============================================================= --&gt;

&lt;!ENTITY % HighlightingDomain-c-ph     "b | i"                 &gt;  </code></pre></li>
      <li class="li"><span class="ph">They add</span> the constraint module to the
          <span class="ph filepath">catalog.xml</span> file.</li>
      <li class="li"><span class="ph">They then integrate</span> the constraint module into
        the company-specific, document-type shell for the task topic by
        adding the content in the "DOMAIN CONSTRAINT INTEGRATION"
        section:<pre class="pre codeblock"><code>&lt;!-- ============================================================= --&gt;
&lt;!--                    DOMAIN CONSTRAINT INTEGRATION              --&gt;
&lt;!-- ============================================================= --&gt;

&lt;!ENTITY % HighlightDomain-c-dec  
  PUBLIC "-//ACME//ENTITIES DITA Highlighting Domain Constraint//EN" 
  "acme-HighlightDomainConstraint.mod"
&gt;%HighlightDomain-c-dec;</code></pre></li>
      <li class="li">In the "DOMAIN EXTENSIONS" section, <span class="ph">they
          replace</span> the parameter entity for the highlighting domain
        with the parameter entity for the constrained highlighting
        domain:<pre class="pre codeblock"><code>&lt;!ENTITY % ph           "ph |
                         <strong class="ph b">%HighlightDomain-c-ph;</strong> |
                         %sw-d-ph; | 
                         %ui-d-ph;
                        "&gt;</code></pre></li>
      <li class="li"><span style="color:red;" class="ph">They check their</span> test topic to ensure
        that the content model is modified as expected.</li>
    </ol>
  </div>
  
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title6" lang="en-us" id="unique_2069309337">
  <h3 class="title topictitle3" id="ariaid-title6">Example: Replace a base element with the domain extensions using DTD</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">a DITA</span> architect wants to
    remove the <code class="keyword markupname xmlelement">&lt;ph&gt;</code> element but allow the extensions
    of <code class="keyword markupname xmlelement">&lt;ph&gt;</code> that exist in the highlighting,
    programming, software, and user interface domains.</p>
    <div class="example non-normative" id="unique_2069309337__example"><h4 class="title sectiontitle">Example</h4><p class="non-normative-label">This section is non-normative.</p>
      <ol class="ol">
        <li class="li">In the "DOMAIN EXTENSIONS" section, <span class="ph">the DITA
            architect</span> removes the reference to the
            <code class="keyword markupname xmlelement">&lt;ph&gt;</code>
          element:<pre class="pre codeblock"><code>&lt;!-- Removed "ph | " so as to make &lt;ph&gt; not available, only the domain extensions. --&gt;
&lt;!ENTITY % ph           "%pr-d-ph; |
                         %sw-d-ph; | 
                         %ui-d-ph;
                        "&gt;</code></pre></li>
      </ol>
      <div class="note note note_note non-normative"><span class="note__title">Note<span class="non-normative-label"> (non-normative)</span>:</span> <div class="note__body">Because no other entities are modified or declared outside of
        the usual "DOMAIN EXTENSIONS" section, this completes the
        architect's task. Because no new grammar file or entity is created
        that would highlight this change, adding a comment to highlight the
        constraint becomes particularly important<span style="color:red;" class="ph">,</span>
        as shown in the example above.</div></div>
    </div>
  </div>
  
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title7" lang="en-us" id="unique_274051914">
  <h3 class="title topictitle3" id="ariaid-title7">Example: Apply multiple constraints to a single document-type shell using DTD</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">You can apply multiple constraints to a single document-type shell. However, there can
    be only one constraint for a given element or domain. </p>
    <div class="example non-normative" id="unique_274051914__example"><h4 class="title sectiontitle">Example</h4><p class="non-normative-label">This section is non-normative.</p>
      <p class="p">Here is a list of constraint modules and what they do:</p>
      <table class="simpletable frame-all"><colgroup><col style="width:33.33333333333333%"><col style="width:33.33333333333333%"><col style="width:33.33333333333333%"></colgroup><thead><tr class="sthead">
          <th class="stentry" scope="col" id="unique_274051914__example__stentry__1">File name</th>
          <th class="stentry" scope="col" id="unique_274051914__example__stentry__2">What it constrains</th>
          <th class="stentry" scope="col" id="unique_274051914__example__stentry__3">Details</th>
        </tr></thead><tbody><tr class="strow">
          <td class="stentry" headers="unique_274051914__example__stentry__1"><span class="ph filepath">example-TopicConstraint.mod</span></td>
          <td class="stentry" headers="unique_274051914__example__stentry__2"><code class="keyword markupname xmlelement">&lt;topic&gt;</code></td>
          <td class="stentry" headers="unique_274051914__example__stentry__3">
            <ul class="ul">
              <li class="li">Removes <code class="keyword markupname xmlelement">&lt;abstract&gt;</code></li>
              <li class="li">Makes <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> required</li>
              <li class="li">Removes <code class="keyword markupname xmlelement">&lt;related-links&gt;</code></li>
              <li class="li">Disallows topic nesting</li>
            </ul>
          </td>
        </tr><tr class="strow">
          <td class="stentry" headers="unique_274051914__example__stentry__1"><span class="ph filepath">example-SectionConstraint.mod</span></td>
          <td class="stentry" headers="unique_274051914__example__stentry__2"><code class="keyword markupname xmlelement">&lt;section&gt;</code></td>
          <td class="stentry" headers="unique_274051914__example__stentry__3">Makes <code class="keyword markupname xmlatt">@id</code> required</td>
        </tr><tr class="strow">
          <td class="stentry" headers="unique_274051914__example__stentry__1"><span class="ph filepath">example-HighlightingDomainConstraint.mod</span></td>
          <td class="stentry" headers="unique_274051914__example__stentry__2">Highlighting domain</td>
          <td class="stentry" headers="unique_274051914__example__stentry__3">Reduces the highlighting domain elements to <code class="keyword markupname xmlelement">&lt;b&gt;</code> and
              <code class="keyword markupname xmlelement">&lt;i&gt;</code></td>
        </tr><tr class="strow">
          <td class="stentry" headers="unique_274051914__example__stentry__1">N/A</td>
          <td class="stentry" headers="unique_274051914__example__stentry__2"><code class="keyword markupname xmlelement">&lt;ph&gt;</code></td>
          <td class="stentry" headers="unique_274051914__example__stentry__3">Remove the <code class="keyword markupname xmlelement">&lt;ph&gt;</code> element, allowing only domain extensions
            (does not require a <span class="ph filepath">.mod</span> file)</td>
        </tr></tbody></table>
      <p class="p">All of these constraints can be integrated into a single
        document-type shell for <code class="keyword markupname xmlelement">&lt;topic&gt;</code>, since they
        constrain distinct element types and domains. The constraint for
        the highlighting domain typically is located in the "DOMAIN
        CONSTRAINT INTEGRATION" section, and it must be integrated before
        the "DOMAIN ENTITIES" section. The other constraints typically are
        located in the "ELEMENT-TYPE CONFIGURATION INTEGRATION" section,
        and the order in which they are listed does not matter.</p>
    </div>
  </div>
  
</article></article><article class="topic concept nested1 non-normative" aria-labelledby="ariaid-title8" id="examples-constraints-implemented-using-rng">
  <h2 class="title topictitle2" id="ariaid-title8">Examples: Constraints implemented using RNG</h2>
  <div class="body"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">This section of the specification contains examples of
    constraints implemented using RNG</p></div>
<nav role="navigation" class="related-links"><div class="linklist relconcepts"><strong>Related concepts</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="../archSpec/base/coding-requirements.html#relax_ng_coding_requirements_for_element_configuration_modules" title="An element-configuration module (constraint and expansion) redefines the content model or attribute list for one or more elements.">RELAX NG: Coding requirements for element-configuration modules</a></li></ul></div></nav><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title9" lang="en-us" id="example-rng-constraints-redefine-content-model">
  <h3 class="title topictitle3" id="ariaid-title9">Example: <span style="color:red;" class="ph">Restrict</span> the content model for
    the <code class="keyword markupname xmlelement">&lt;topic&gt;</code> element using RNG</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">the DITA architect</span> for
    Acme Incorporated wants to redefine the content model for the topic
    document type. <span class="ph">They want</span><span style="color:red;" class="ph"> to omit
      certain elements,  make the <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code>
      element required, and disallow topic nesting.</span></p>
    <p style="color:red;" class="p">Specifically, the DITA architect wants to redefine
      the content model in the following ways:</p>
    <ul style="color:red;" class="ul">
      <li class="li">Remove <code class="keyword markupname xmlelement">&lt;abstract&gt;</code></li>
      <li class="li">Require <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code></li>
      <li class="li">Remove <code class="keyword markupname xmlelement">&lt;related-links&gt;</code></li>
      <li class="li">Remove the <code class="ph codeph">task-info-types</code>pattern in order to
        disallow topic nesting</li>
    </ul>
    <ol class="ol">
      <li class="li">The DITA architect creates a constraint module:
          <span class="ph filepath">acme-TopicConstraintMod.rng</span>.</li>
      <li class="li"><span class="ph">They update</span> the
          <span class="ph filepath">catalog.xml</span> file to include the new
        constraint module.</li>
      <li class="li"><span class="ph">They add</span> the following content to
          <span class="ph filepath">acme-TopicConstraint.mod</span>:<pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;CONTENT MODEL OVERRIDES&lt;/a:documentation&gt;
  &lt;include href="urn:pubid:oasis:names:tc:dita:rng:topicMod.rng:2.0"&gt;
    &lt;define name="topic.content" combine="interleave"&gt;
      &lt;ref name="title"/&gt;
      &lt;ref name="shortdesc"/&gt;
      &lt;optional&gt;
        &lt;ref name="prolog"/&gt;
      &lt;/optional&gt;
      &lt;optional&gt;
        &lt;ref name="body"/&gt;
      &lt;/optional&gt;
    &lt;/define&gt;
  &lt;/include&gt;
&lt;/div&gt;</code></pre></li>
      <li class="li"><span class="ph">They then integrate</span> the constraint module into
        the document-type shell for topic by adding an
          <code class="keyword markupname xmlelement">&lt;include&gt;</code> element in the "ELEMENT-TYPE
        CONFIGURATION INTEGRATION" section:<pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;ELEMENT-TYPE CONFIGURATION INTEGRATION&lt;/a:documentation&gt;
  &lt;include href="acme-TopicConstraintMod.rng"/&gt;
&lt;/div&gt;</code></pre></li>
      <li class="li">
        <p class="p"><span class="ph">They then remove</span> the
            <code class="keyword markupname xmlelement">&lt;include&gt;</code> statement that references
            <span class="ph filepath">topicMod.rng</span> from the "MODULE INCLUSIONS"
          section:</p>
        <pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;MODULE INCLUSIONS &lt;/a:documentation&gt;
    <span class="ph line-through">&lt;include href="urn:pubid:oasis:names:tc:dita:rng:topicMod.rng:2.0"/&gt;</span>
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:audienceAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:deliveryTargetAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:platformAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:productAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:otherpropsAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:highlightDomain.rng:2.0"/&gt;
  &lt;/div&gt;</code></pre>
      </li>
      <li class="li"><span style="color:red;" class="ph">They check their</span> test topic to ensure
        that the content model is modified as expected.</li>
    </ol>
  </div>
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title10" lang="en-us" id="reference_cfb_ck4_5pexample-rng-constraints-redefine-content-model-attributes">
  <h3 class="title topictitle3" id="ariaid-title10">Example: Constrain attributes for the
      <code class="keyword markupname xmlelement">&lt;section&gt;</code> element using RNG</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">a DITA architect</span> wants to
    redefine the attributes for the <code class="keyword markupname xmlelement">&lt;section&gt;</code>
    element. <span class="ph">They want</span> to make the <code class="keyword markupname xmlatt">@id</code>
    attribute required.</p>
    <div class="example non-normative" id="reference_cfb_ck4_5pexample-rng-constraints-redefine-content-model-attributes__example"><h4 class="title sectiontitle">Example</h4><p class="non-normative-label">This section is non-normative.</p>
      <ol class="ol">
        <li class="li">The DITA architect creates a constraint module:
            <span class="ph filepath">id-requiredSectionContraintMod.rng</span>.</li>
        <li class="li"><span class="ph">They update</span> the
            <span class="ph filepath">catalog.xml</span> file to include the new
          constraint module.</li>
        <li class="li"><span class="ph">They add</span> the following content to the
          constraint
            module:<pre class="pre codeblock"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;grammar 
  xmlns="http://relaxng.org/ns/structure/1.0"
  xmlns:dita="http://dita.oasis-open.org/architecture/2005/"
  xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
  datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"&gt;

  &lt;div&gt;
    &lt;a:documentation&gt;ATTRIBUTE LIST OVERRIDES&lt;/a:documentation&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:topicMod.rng:2.0"&gt;      
      &lt;define name="section.attributes"&gt;
          &lt;attribute name="id"&gt;
            &lt;data type="NMTOKEN"/&gt;
          &lt;/attribute&gt;        
        &lt;ref name="conref-atts"/&gt;
        &lt;ref name="select-atts"/&gt;
        &lt;ref name="localization-atts"/&gt;
        &lt;optional&gt;
          &lt;attribute name="outputclass"/&gt;
        &lt;/optional&gt;
      &lt;/define&gt;
    &lt;/include&gt;
  &lt;/div&gt;

&lt;/grammar&gt;  </code></pre><p class="p">Note that unlike a constraint
            module that is implemented using DTD, this constraint module
            did not need to re-declare the patterns that are referenced in
            the redefinition of the content model for
              <code class="keyword markupname xmlelement">&lt;section&gt;</code></p></li>
        <li class="li"><span class="ph">They then integrate</span> the constraint module
          into the document-type shell for topic by adding an
            <code class="keyword markupname xmlelement">&lt;include&gt;</code> element in the "CONTENT
          CONSTRAINT INTEGRATION" section:<pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;CONTENT CONSTRAINT INTEGRATION&lt;/a:documentation&gt;
  &lt;include href="id-requiredSectionConstraintMod.rng"/&gt;
&lt;/div&gt;</code></pre></li>
        <li class="li">
          <p class="p"><span class="ph">They then remove</span> the
              <code class="keyword markupname xmlelement">&lt;include&gt;</code> statement that references
              <span class="ph filepath">topicMod.rng</span> from the "MODULE
            INCLUSIONS" section:</p>
          <pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;MODULE INCLUSIONS &lt;/a:documentation&gt;
    <span class="ph line-through">&lt;include href="urn:pubid:oasis:names:tc:dita:rng:topicMod.rng:2.0"/&gt;</span>
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:audienceAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:deliveryTargetAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:platformAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:productAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:otherpropsAttDomain.rng:2.0"/&gt;
    &lt;include href="urn:pubid:oasis:names:tc:dita:rng:highlightDomain.rng:2.0"/&gt;
  &lt;/div&gt;</code></pre>
        </li>
        <li class="li"><span style="color:red;" class="ph">They check their</span> test topic to ensure
          that the content model is modified as expected.</li>
      </ol>
    </div>
  </div>
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title11" id="example_constrain_a_domain_using_rng">
  <h3 class="title topictitle3" id="ariaid-title11">Example: Constrain a domain module using RNG</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">a DITA architect</span> wants to
    use only a subset of the elements defined in the highlighting domain.
      <span class="ph">They want</span> to use <code class="keyword markupname xmlelement">&lt;b&gt;</code> and
      <code class="keyword markupname xmlelement">&lt;i&gt;</code> but not <span style="color:red;" class="ph">any other of
      the elements in the domain</span>. <span class="ph">They want</span> to
    integrate this constraint into the document-type shell for
    task.</p>
    <p style="color:red;" class="p">Specifically, the DITA architect wants to redefine
      the content model in the following ways:</p>
    <ul style="color:red;" class="ul">
      <li class="li">Use <code class="keyword markupname xmlelement">&lt;b&gt;</code> and
        <code class="keyword markupname xmlelement">&lt;i&gt;</code></li>
      <li class="li">Remove <code class="keyword markupname xmlelement">&lt;line-through&gt;</code>,
          <code class="keyword markupname xmlelement">&lt;overline&gt;</code>, <code class="keyword markupname xmlelement">&lt;sup&gt;</code>,
          <code class="keyword markupname xmlelement">&lt;sup&gt;</code>, <code class="keyword markupname xmlelement">&lt;tt&gt;</code>, and
          <code class="keyword markupname xmlelement">&lt;u&gt;</code></li>
    </ul>
    <p class="p"><span style="color:red;" class="ph">Note that when</span> using RNG, domains can be
      constrained directly in the document-type shells.</p>
    <ol class="ol">
      <li class="li">
        <p class="p"><span class="ph">They open</span> the document-type shell for topic
          in an XML editor, and then <span class="ph">they modify</span> the
          "MODULE INCLUSIONS" division to exclude the elements that <span class="ph">they do</span> not want the implementation to use:</p>
        <pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;MODULE INCLUSIONS&lt;/a:documentation&gt;
  ...
  &lt;include href="highlightDomain.rng"&gt;
    &lt;define name="line-through.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="overline.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="sub.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="sup.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="tt.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="u.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
  &lt;/include&gt;
  ..  
&lt;/div&gt;</code></pre>
        <div class="note note note_note non-normative"><span class="note__title">Note<span class="non-normative-label"> (non-normative)</span>:</span> <div class="note__body">The <span class="ph">DITA</span> architect made a choice as to
          where in the document-type shell <span class="ph">they</span> would
          implement the constraint. It can be placed either in the
          "Element-type configuration integration" or the "Module
          inclusions" section.</div></div>
      </li>
      <li class="li"><span class="ph">They make</span> similar changes to all the other
        document-type shells in which <span class="ph">they want</span> to
        constrain the highlighting domain.</li>
    </ol>
  </div>
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title12" lang="en-us" id="unique_965149397">
  <h3 class="title topictitle3" id="ariaid-title12">Example: Replace a base element with the domain extensions using
    RNG</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">the DITA architect</span> wants
    to remove the <code class="keyword markupname xmlelement">&lt;ph&gt;</code> element but allow the
    extensions of <code class="keyword markupname xmlelement">&lt;ph&gt;</code> that exist in the highlight,
    programming, software, and user interface domains.</p>
    <div class="example non-normative" id="unique_965149397__example"><h4 class="title sectiontitle">Example</h4><p class="non-normative-label">This section is non-normative.</p>
      <ol class="ol">
        <li class="li">
          <p class="p"><span class="ph">They open</span> the document-type shell for topic
            in an XML editor, and then <span class="ph">they modify</span> the
            "MODULE INCLUSIONS" division to exclude
              <code class="keyword markupname xmlelement">&lt;ph&gt;</code>:</p>
          <pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;MODULE INCLUSIONS&lt;/a:documentation&gt;    
  &lt;include href="urn:pubid:oasis:names:tc:dita:rng:topicMod.rng:2.0"&gt;
    <strong class="ph b">&lt;define name="ph.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
</strong>  &lt;/include&gt;
  ...
&lt;/div&gt;</code></pre>
        </li>
        <li class="li"><span class="ph">They make</span> similar changes to all the other
          document-type shells in which <span class="ph">they want</span>
          <code class="keyword markupname xmlelement">&lt;ph&gt;</code> to not be available</li>
      </ol>
    </div>
  </div>
</article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title13" lang="en-us" id="unique_905092642">
  <h3 class="title topictitle3" id="ariaid-title13">Example: Apply multiple constraints to a single document-type
    shell using RNG</h3>
  
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, <span class="ph">the DITA architect</span> wants
    to apply multiple constraints to a document-type shell.</p>
    <div class="example non-normative" id="unique_905092642__example"><h4 class="title sectiontitle">Example</h4><p class="non-normative-label">This section is non-normative.</p>
      <p class="p">Here is a list of the constraint modules and what they do:</p>
      <table class="simpletable frame-all"><colgroup><col style="width:33.33333333333333%"><col style="width:33.33333333333333%"><col style="width:33.33333333333333%"></colgroup><thead><tr class="sthead">
          <th class="stentry" scope="col" id="unique_905092642__example__stentry__1">File name</th>
          <th class="stentry" scope="col" id="unique_905092642__example__stentry__2">What it constrains</th>
          <th class="stentry" scope="col" id="unique_905092642__example__stentry__3">Details</th>
        </tr></thead><tbody><tr class="strow">
          <td class="stentry" headers="unique_905092642__example__stentry__1"><span class="ph filepath">example-TopicConstraint.mod</span></td>
          <td class="stentry" headers="unique_905092642__example__stentry__2"><code class="keyword markupname xmlelement">&lt;topic&gt;</code></td>
          <td class="stentry" headers="unique_905092642__example__stentry__3">
            <ul class="ul">
              <li class="li">Removes <code class="keyword markupname xmlelement">&lt;abstract&gt;</code></li>
              <li class="li">Makes <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> required</li>
              <li class="li">Removes <code class="keyword markupname xmlelement">&lt;related-links&gt;</code></li>
              <li class="li">Disallows topic nesting</li>
            </ul>
          </td>
        </tr><tr class="strow">
          <td class="stentry" headers="unique_905092642__example__stentry__1"><span class="ph filepath">example-SectionConstraint.mod</span></td>
          <td class="stentry" headers="unique_905092642__example__stentry__2"><code class="keyword markupname xmlelement">&lt;section&gt;</code></td>
          <td class="stentry" headers="unique_905092642__example__stentry__3">Makes <code class="keyword markupname xmlatt">@id</code> required</td>
        </tr><tr class="strow">
          <td class="stentry" headers="unique_905092642__example__stentry__1">Not applicable</td>
          <td class="stentry" headers="unique_905092642__example__stentry__2">Highlighting domain</td>
          <td class="stentry" headers="unique_905092642__example__stentry__3">Reduces the highlighting domain elements to
              <code class="keyword markupname xmlelement">&lt;b&gt;</code> and
            <code class="keyword markupname xmlelement">&lt;i&gt;</code></td>
        </tr><tr class="strow">
          <td class="stentry" headers="unique_905092642__example__stentry__1">Not applicable</td>
          <td class="stentry" headers="unique_905092642__example__stentry__2"><code class="keyword markupname xmlelement">&lt;ph&gt;</code></td>
          <td class="stentry" headers="unique_905092642__example__stentry__3">Remove the <code class="keyword markupname xmlelement">&lt;ph&gt;</code> element, allowing
            only domain extensions</td>
        </tr></tbody></table>
      <p class="p">The constraint modules that target the
          <code class="keyword markupname xmlelement">&lt;topic&gt;</code> and <code class="keyword markupname xmlelement">&lt;section
        &gt;</code> elements must be combined, since both elements are
        defined in <span class="ph filepath">topicMod.rng</span>. The other constraints
        can be implemented directly in the document-type shell.</p>
      <ol class="ol">
        <li class="li">
          <p class="p">The <span class="ph">DITA architect</span> creates a constraint
            module that combines the constraints from
              <span class="ph filepath">example-TopicConstraint.mod</span> and
              <span class="ph filepath">example-SectionConstraint.mod</span>:</p>
          <pre class="pre codeblock"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-model href="urn:pubid:oasis:names:tc:dita:rng:vocabularyModuleDesc.rng"
                         schematypens="http://relaxng.org/ns/structure/1.0"?&gt;
&lt;grammar xmlns="http://relaxng.org/ns/structure/1.0"
  xmlns:dita="http://dita.oasis-open.org/architecture/2005/"
  xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
  datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"&gt;
  &lt;div&gt;
    &lt;a:documentation&gt;CONTENT MODEL AND ATTRIBUTE LIST OVERRIDES&lt;/a:documentation&gt;
    &lt;include href="topicMod.rng"&gt;
      &lt;define name="section.attributes"&gt;
          &lt;attribute name="id"&gt;
            &lt;data type="NMTOKEN"/&gt;
          &lt;/attribute&gt;        
        &lt;ref name="conref-atts"/&gt;
        &lt;ref name="select-atts"/&gt;
        &lt;ref name="localization-atts"/&gt;
        &lt;optional&gt;
          &lt;attribute name="outputclass"/&gt;
        &lt;/optional&gt;
      &lt;/define&gt;
      &lt;define name="topic.content"&gt;
        &lt;ref name="title"/&gt;
        &lt;ref name="shortdesc"/&gt;
        &lt;optional&gt;
          &lt;ref name="prolog"/&gt;
        &lt;/optional&gt;
        &lt;optional&gt;
          &lt;ref name="body"/&gt;
        &lt;/optional&gt;
      &lt;/define&gt;
    &lt;/include&gt;
  &lt;/div&gt;
&lt;/grammar&gt;</code></pre>
        </li>
        <li class="li">
          <p class="p">In the document-type shell, <span class="ph">they integrate</span>
            the constraint module (and <span class="ph">remove</span> the
            inclusion statement for <span class="ph filepath">topicMod.rng</span>):</p>
          <pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;ELEMENT-TYPE CONFIGURATION INTEGRATION&lt;/a:documentation&gt;
  &lt;include href="acme-SectionTopicContraintMod.rng"/&gt;
&lt;/div&gt;</code></pre>
        </li>
        <li class="li">
          <p class="p">To constrain the highlight domain, <span class="ph">they
              modify</span> the include statement for the domain module:</p>
          <pre class="pre codeblock"><code>&lt;div&gt;
  &lt;a:documentation&gt;MODULE INCLUSIONS&lt;/a:documentation&gt;
  ...
  &lt;include href="highlightDomain.rng"&gt;
    &lt;define name="line-through.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="overline.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="sub.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="sup.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="tt.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
    &lt;define name="u.element"&gt;
      &lt;notAllowed/&gt;
    &lt;/define&gt;
  &lt;/include&gt;
  ..  
&lt;/div&gt;</code></pre>
        </li>
        <li class="li">Finally, to disallow <code class="keyword markupname xmlelement">&lt;ph&gt;</code>, <span class="ph">they add</span> the following statement to the constraint
          module:<pre class="pre codeblock"><code>      &lt;define name="ph.element"&gt;
        &lt;notAllowed/&gt;
      &lt;/define&gt;</code></pre></li>
      </ol>
    </div>
  </div>
</article></article></article><aside class="section-toc" role="aside"></aside></article></main>
