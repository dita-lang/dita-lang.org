---
layout: base.njk
title: ''
index: 'toc.html'
notices: 'resources/oasis-notices.html'
commit: 'bde344e7039ecd9f977d9f96858dd0e5e4fe1acb'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="toc" role="toc"><ul><li><a href="introduction/dita-release-overview.html">Introduction</a></li><li><a href="archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="archSpec/base/navigation.html#navigation">Navigation</a></li><li><a href="Chunk207516499.html#Chunk207516499">Indexes</a></li><li><a href="Chunk1058607399.html#Chunk1058607399">Content reference (conref)</a></li><li class="active"><a href="Chunk2014704668.html#Chunk2014704668">Conditional processing</a><ul class="nav nav-list"><li><a href="Chunk2014704668.html#condproc">Conditional processing</a></li></ul></li><li><a href="Chunk2000495001.html#Chunk2000495001">Branch filtering</a></li><li><a href="archSpec/base/sort-as-processing.html#sort-as-processing">Sorting</a></li><li><a href="archSpec/base/determining-effective-attribute-values.html#concept_afm_sz2_t3b">Determining effective attribute values</a></li></ul></li><li><a href="archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a></li><li><a href="langRef/langRef-base.html">Element reference</a></li><li><a href="conformance/conformance.html">Conformance</a></li><li><a href="acknowledgments/acknowledgments.html#r-acknowledgments">Acknowledgments</a></li><li><a href="non-normative/aggregated-RFC-2119-statements.html#aggregated-RFC-2119-statements">Aggregated RFC-2119 statements</a></li><li><a href="archSpec/base/coding-requirements.html#coding-practices">Coding practices for DITA grammar files</a></li><li><a href="non-normative/developing-constraint-and-expansion-modules.html#developing-constraint-and-expansion-modules">Constraint modules</a></li><li><a href="non-normative/expansion-modules.html#expansion-modules">Expansion modules</a></li><li><a href="non-normative/elementsMerged.html#elements">Element-by-element recommendations for translators</a></li><li><a href="non-normative/formatting-expectations.html#formatting-expectations">Formatting expectations</a></li><li><a href="non-normative/migrating-to-dita-2.0.html#migrating-to-dita-2.0">Migrating to DITA 2.0</a></li><li><a href="non-normative/basedoctypes.html#oasisdomains">OASIS grammar files</a></li><li><a href="non-normative/interoperability-considerations.html#nteroperability-considerations">Processing interoperability considerations</a></li><li><a href="non-normative/revision-history.html#revision-history">Revision history</a></li></ul></nav><main role="main" class=""><article role="article" aria-labelledby="ariaid-title1"><article class="nested0" aria-labelledby="ariaid-title1" id="Chunk2014704668"><h1 class="title topictitle1" id="ariaid-title1">Conditional processing</h1><nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="archSpec/base/behaviors.html" title="DITA processing is affected by a number of factors, including attributes that indicate the set of vocabulary and constraint modules on which a DITA document depends; navigation; linking; content reuse (using direct or indirect addressing); conditional processing; branch filtering; chunking; and more. In addition, translation of DITA content is expedited through the use of the dir, translate, and xml:lang attributes.">DITA processing</a></div></div></nav><article class="topic concept nested1" aria-labelledby="ariaid-title2" lang="en-us" id="condproc">
    <h2 class="title topictitle2" id="ariaid-title2">Conditional processing</h2>
    
    <div class="body conbody"><p class="shortdesc"><span class="ph">Conditional processing is the filtering or flagging of
          information based on processing-time
          criteria.</span>
    Conditional processing is based on attributes specified in the DITA
    source.</p>
    
        
    
    </div>
<article class="topic nested2" aria-labelledby="ariaid-title3" id="topic_xzh_h25_xsb">
    <h3 class="title topictitle3" id="ariaid-title3">About conditional processing</h3>
    
    <div class="body"><p class="shortdesc">Certain concepts are critical for a full understanding of
    conditional processing.</p>
        <dl class="dl">
      
        <dt class="dt dlterm">conditional processing</dt>
        <dd class="dd">A process that determines whether content is included,
          excluded, or flagged. This process is based on a comparison of
          conditional-processing attributes in the DITA source with the
          rules that are set in one or more DITAVAL documents.</dd>
      
      
        <dt class="dt dlterm">conditional processing attribute</dt>
        <dd class="dd">
          <p class="p">Attributes that can be used for filtering and flagging. These
            are the following attributes:</p>
          <ul class="ul">
            <li class="li"><span class="ph"><code class="keyword markupname xmlatt">@props</code> and any
            attribute specialized from <code class="keyword markupname xmlatt">@props</code>, including
            those integrated by default in the OASIS-provided document-type
            shells: <code class="keyword markupname xmlatt">@audience</code>,
              <code class="keyword markupname xmlatt">@deliveryTarget</code>, <code class="keyword markupname xmlatt">@platform</code>,
              <code class="keyword markupname xmlatt">@product</code>,
          <code class="keyword markupname xmlatt">@otherprops</code></span></li>
            <li class="li">The <code class="keyword markupname xmlatt">@rev</code> attribute, which supports flagging
              but not filtering</li>
          </ul>
        </dd>
      
      
        <dt class="dt dlterm">conditional-processing profile</dt>
        <dd class="dd">A set of rules that are provided to a processor for use at
          rendering time. These rules are based on one or more DITAVAL
            documents.</dd>
      
      
        <dt class="dt dlterm">DITAVAL document</dt>
        <dd class="dd">A document that specifies a set of rules that define which elements to include, exclude,
          or flag. A DITAVAL document can be a file on the file system, a set of rules stored in
          memory, or another way of storing information that is expressed using DITAVAL
            syntax.</dd>
      
      
        <dt class="dt dlterm">filtering</dt>
        <dd class="dd">The process of excluding content at rendering time.</dd>
        
      
    </dl>
    
    
    <dl class="dl">
      
        <dt class="dt dlterm">flagging</dt>
        <dd class="dd">The process of emphasizing content by inserting images, text,
          or stylistic formatting at rendering time.</dd>
        
      
    </dl>
    </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title4" id="conditionalprocessingexpectations">
    <h3 class="title topictitle3" id="ariaid-title4">Expectations for conditional processing</h3>
    
    <div class="body conbody"><p class="shortdesc">Certain behaviors are expected of processors when working with conditional
        processing.</p>
        <p class="p">Processors <dfn class="term RFC-2119">SHOULD</dfn> be able to perform filtering and
            flagging using the following attributes: <code class="keyword markupname xmlatt">@props</code>,
                <code class="keyword markupname xmlatt">@audience</code>, <code class="keyword markupname xmlatt">@deliveryTarget</code>,
                <code class="keyword markupname xmlatt">@platform</code>, <code class="keyword markupname xmlatt">@product</code>, and
            <code class="keyword markupname xmlatt">@otherprops</code>.</p>
        <p class="p">The <code class="keyword markupname xmlatt">@props</code> attribute can be specialized to create new attributes, and
            processors <dfn class="term RFC-2119">SHOULD</dfn> be able to perform conditional
            processing on specializations of <code class="keyword markupname xmlatt">@props</code>.</p>
        <p class="p">Although metadata elements exist with similar names, such as the
                <code class="keyword markupname xmlelement">&lt;audience&gt;</code> element, the specification does not define any
            mechanism for conditional processing using metadata elements.</p>
    </div>
</article><article class="topic nested2" aria-labelledby="ariaid-title5" id="aboutditavaldocuments">
    <h3 class="title topictitle3" id="ariaid-title5">About the DITAVAL document</h3>
    
    <div class="body"><p class="shortdesc">A DITAVAL document specifies a set of rules that defines which elements to include,
        exclude, or flag.</p>
        <p class="p">The markup for DITAVAL documents provides a standard way to
      define all conditional processing that is associated with the DITA
      specification.</p>
        <div class="p">Each rule in a DITAVAL document does one of the following:<ul class="ul" id="aboutditavaldocuments__ul_z3h_cs5_xsb">
                <li class="li">Defines a rendering behavior for an attribute and value
          pair, for example, <code class="ph codeph">audience="novice"</code>.</li>
                <li class="li">Defines a default behavior for a conditional processing attribute, such as
                    defining a default rendering behavior of <span class="keyword">exclude</span> for the
                        <code class="keyword markupname xmlatt">@deliveryTarget</code>. With that default, any
                        <code class="keyword markupname xmlatt">@deliveryTarget</code> value not otherwise defined in the document
                    uses that default behavior of <span class="keyword">exclude</span>.</li>
                <li class="li">Defines a default behavior for <strong class="ph b">all</strong> conditional
          processing attributes, such as defining a default rendering
          behavior of <span class="keyword">exclude</span>. With that default, any
          conditional-processing attribute not otherwise defined in the
          document uses that default behavior of
          <span class="keyword">exclude</span>.</li>
            </ul></div>
    
        <p class="p">While the DITAVAL markup is not part of the DITA topic or map
      vocabulary and cannot be specialized, the XML itself is part of the
      specification. See <a class="xref" href="Chunk1899933261.html#ditaval" title="A DITAVAL document identifies content that is filtered and flagged at rendering time. The DITAVAL document has an extension of .ditaval.">DITAVAL elements</a> for
      details.</p>
    
    </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title6" lang="en-us" id="usage-of-conditional-processing-attributes">
  <h3 class="title topictitle3" id="ariaid-title6">Conditional processing attribute values</h3>
  
  <div class="body conbody"><p class="shortdesc">Conditional processing attributes use space-delimited string values or grouped string
    values to support both filtering and flagging.</p>
    <p class="p">The simplest and most common way to specify metadata on a conditional processing attribute is
      using individual string values. <span class="ph example">For example, the values
          <span class="keyword">basic</span> and <span class="keyword">deluxe</span> within <code class="ph codeph">&lt;p product="basic
          deluxe"&gt;</code> indicate that the paragraph applies to the basic and deluxe
        products.</span></p>
    <p class="p">Setting a conditional processing attribute to an empty value, such as
        <code class="ph codeph">product=""</code>, is equivalent to omitting that attribute from the element. </p>
  </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title7" lang="en-us" id="unique_416699614">
  <h3 class="title topictitle3" id="ariaid-title7">Conditional processing attribute values with groups</h3>
  
  <div class="body conbody"><p class="shortdesc">For more advanced needs, groups can be used to organize metadata into subcategories
    within a conditional processing attribute.</p>
    <p class="p">Grouped values are intended to support situations where a metadata attribute applies to
      multiple specialized subcategories. <span class="ph example">For example, if content is
        classified into two distinct types of product, those distinct types can become named groups
        within the <code class="keyword markupname xmlatt">@product</code> attribute.</span> The grouping syntax exactly matches the
      syntax used for generalized attributes, making it valid inside <span class="ph"><code class="keyword markupname xmlatt">@props</code> and any
            attribute specialized from <code class="keyword markupname xmlatt">@props</code>, including
            those integrated by default in the OASIS-provided document-type
            shells: <code class="keyword markupname xmlatt">@audience</code>,
              <code class="keyword markupname xmlatt">@deliveryTarget</code>, <code class="keyword markupname xmlatt">@platform</code>,
              <code class="keyword markupname xmlatt">@product</code>,
          <code class="keyword markupname xmlatt">@otherprops</code></span>.</p>
<p class="p">The following rules apply to groups within conditional processing attributes:</p>
    <ul class="ul">
      <li class="li">Groups consist of a name immediately followed by a parenthetical group of zero or more
        space-delimited string values. For example, <code class="ph codeph">"groupName(valueOne
        valueTwo)"</code>.</li>
      <li class="li">Groups cannot be nested.</li>
      <li class="li">If two groups with the same name are found in a single attribute, they are treated as if
        all values are specified in the same group. The following values for the
          <code class="keyword markupname xmlatt">@otherprops</code> attribute are
        equivalent:<pre class="pre codeblock"><code>otherprops="groupA(a b) groupA(c) groupZ(APPNAME)"
otherprops="groupA(a b c) groupZ(APPNAME)"</code></pre></li>
      <li class="li">If both grouped values and ungrouped values are found in a single attribute, the ungrouped
        values belong to an implicit group; the name of that group matches the name of the
        attribute. Therefore, the following values for the <code class="keyword markupname xmlatt">@product</code> attribute are
        equivalent:
        <pre class="pre codeblock"><code>product="a database(dbA dbB) b appserver(mySERVER) c"
product="product(a b c) database(dbA dbB) appserver(mySERVER)"</code></pre></li>
    </ul>
    <p class="p">An empty group within an attribute is equivalent to omitting that group from the attribute.
      For example, <code class="ph codeph">&lt;ph product="database() A"&gt;</code> is equivalent to <code class="ph codeph">&lt;ph
        product="A"&gt;</code>. Similarly, <code class="ph codeph">&lt;ph product="operatingSystem()"&gt;</code> is
      equivalent to <code class="ph codeph">&lt;ph product=""&gt;</code>, which in turn is equivalent to
        <code class="ph codeph">&lt;ph&gt;</code>.</p>
    <p class="p">If two groups with the same name exist on different attributes, a rule specified for that
      group will evaluate the same way on each attribute. For example, if the group "sample" is
      specified within both <code class="keyword markupname xmlatt">@platform</code> and <code class="keyword markupname xmlatt">@otherprops</code>, a DITAVAL
      rule for <code class="ph codeph">sample="value"</code> will evaluate the same in each attribute.
      
      If there is a need to distinguish between similarly named groups on different attributes, the
      best practice is to use more specific group names such as <var class="keyword varname">platformGroupname</var>
      and <var class="keyword varname">productGroupname</var>. Alternatively, DITAVAL rules can be specified based
      on the attribute name rather than the group name.</p>
    <p class="p">If the same group name is used in different attributes, a complex scenario could be created
where different defaults are specified for different attributes, with no rule set for a group or
individual value. In this case a value might end up evaluating differently in the different
attributes. For example, a DITAVAL can set a default of "exclude" for <code class="keyword markupname xmlatt">@platform</code> and
a default of "flag" for <code class="keyword markupname xmlatt">@product</code>. If no rules are specified for group
<code class="ph codeph">oddgroup()</code>, or for the value <code class="ph codeph">oddgroup="edgecase"</code>, the attribute
<code class="ph codeph">platform="oddgroup(edgecase)"</code> will evaluate to "exclude" while
<code class="ph codeph">product="oddgroup(edgecase)"</code> will resolve to "flag". See <a class="xref" href="Chunk1899933261.html#ditaval" title="A DITAVAL document identifies content that is filtered and flagged at rendering time. The DITAVAL document has an extension of .ditaval.">DITAVAL elements</a> for information on how to change default
behaviors in DITAVAL profile.</p>
  </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title8" lang="en-us" id="unique_1147485600">
  <h3 class="title topictitle3" id="ariaid-title8">Conditional processing and subject schemes</h3>
  
  <div class="body conbody"><p class="shortdesc">When a subject scheme defines controlled values for an attribute, a processor can make
    use of that scheme for conditional processing.</p>
    
    <p class="p"></p>
  </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title9" lang="en-us" id="filtering">
 <h3 class="title topictitle3" id="ariaid-title9">Filtering based on metadata attributes</h3>
 
 <div class="body conbody"><p class="shortdesc">When rendering content, a conditional processing profile can be used to specify whether
  an element's content is filtered based on its conditional processing attributes.</p>
  <p class="p">To determine whether content is filtered, a processor compares the conditional processing
   attributes on a DITA element to rules specified in a conditional processing profile. If any one
   of the conditional processing attributes evaluates as <span class="keyword">exclude</span>, that content is
   filtered.</p>
  <p class="p">Within a DITAVAL document, it is possible to specify a default action for conditional
   processing attributes. When no default is specified, the processing default for any attribute or
   value not otherwise listed is <span class="keyword">include</span>. <span class="ph example">For example,
    if no default action is provided for <code class="keyword markupname xmlatt">@audience</code> and the value
     <span class="keyword">novice</span> for that attribute is not defined, that attribute value will have a
    processing default of <span class="keyword">include</span>.</span></p>
  <p class="p">When deciding whether to include or exclude a particular element, a processor evaluates each
   attribute independently:</p>
  <ol class="ol">
   <li class="li">For each attribute:<ul class="ul">
<li class="li">If the attribute is empty, or contains only empty groups, it is equivalent
to omitting the attribute from the element. If evaluated for the purposes of filtering, the
attribute is treated as "include", because an omitted attribute cannot evaluate to "exclude".</li>
     <li class="li">If the attribute value does not contain any groups, then if any string token in the
      attribute value evaluates to <span class="keyword">include</span>, the element evaluates to
       <span class="keyword">include</span>. In other words, the attribute evaluates to
       <span class="keyword">exclude</span> only when <strong class="ph b">all</strong> string tokens in that attribute evaluate to
       <span class="keyword">exclude</span>.</li>
     <li class="li">If the attribute value does include groups, evaluate as follows, treating ungrouped tokens
      together as an implicit group:<ol class="ol" type="a">
       <li class="li">For each group (including any implicit group), if any string token inside the group
        evaluates to <span class="keyword">include</span>, the group evaluates to <span class="keyword">include</span>.
        In other words, a group evaluates to <span class="keyword">exclude</span> only when <strong class="ph b">all</strong> string
        tokens in that group evaluate to <span class="keyword">exclude</span>.</li>
       <li class="li">If any group within an attribute evaluates to <span class="keyword">exclude</span>, that attribute
        evaluates to <span class="keyword">exclude</span>. In other words, the attribute evaluates to
         <span class="keyword">include</span> only when <strong class="ph b">all</strong> groups in that attribute evaluate to
         <span class="keyword">include</span>.</li>
      </ol></li>
    </ul></li>
   <li class="li">If <strong class="ph b">any single attribute</strong> evaluates to <span class="keyword">exclude</span>, the element is
    filtered.</li>
  </ol>
  <p class="p">For example, if a paragraph applies to three products and the publisher has chosen to exclude
   all of them, the processor will exclude the paragraph. This is true even if the paragraph applies
   to an audience or platform that is not excluded. But if the paragraph applies to an additional
   product that has not been excluded, then its content is still relevant for the intended output
   and is preserved.</p>
 </div>
<nav role="navigation" class="related-links"><div class="linklist relref" lang="en-us"><strong>Related reference</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="Chunk1477538216.html#univ-atts" title="The universal attribute group defines a set of common attributes that are available on almost every DITA element. The universal attribute group includes all attributes from the ID, localization, and metadata attribute groups, plus the class and outputclass attributes.">Metadata attributes</a></li><li class="linklist"><a class="link" href="Chunk1899933261.html#ditaval-val" title="The val element is the root element of a DITAVAL document.">DITAVAL markup with extended filtering example</a></li></ul></div></nav></article><article class="topic concept nested2" aria-labelledby="ariaid-title10" lang="en-us" id="flagging">
 <h3 class="title topictitle3" id="ariaid-title10">Flagging based on metadata attributes</h3>
 
 <div class="body conbody"><p class="shortdesc">When rendering content, a conditional processing profile can be used to specify whether
  an element's content is flagged based on its conditional processing
  attributes.</p>
  <p class="p example">For example, flagging can be used to highlight the fact that content
   applies to a specific audience or operating system. Flagging can also draw a reader's attention
   to content that has been marked as being revised.</p>
  <p class="p">When deciding whether to flag a particular element, a processor evaluates each value. Wherever
   an attribute value that has been set as flagged appears (for example,
    <code class="ph codeph">audience="administrator"</code>), the processor adds the flag. When multiple flags
   apply to a single element, multiple flags are rendered, typically in the order that they are
   encountered.</p>
  <p class="p">When the same element evaluates as both flagged and included, the element is both flagged and
   included. When the same element evaluates as both flagged and filtered (for example, flagged
   because of a value for the <code class="keyword markupname xmlatt">@audience</code> attribute and filtered because of a value
   for the <code class="keyword markupname xmlatt">@product</code> attribute value), the element is filtered.</p>
    
    <p class="p"><span style="color:red;" class="ph">When</span> flagging methods are specified for
      elements at different levels of the containment hierarchy, the
      flagging method <span style="color:red;" class="ph">that is</span> specified for the
      element at the lowest level of the hierarchy applies. </p>
    <p class="p example">For example, if <span style="color:red;" class="ph">a</span>
      <code class="keyword markupname xmlelement">&lt;section&gt;</code> element is to be flagged with green
      text and a <code class="keyword markupname xmlelement">&lt;p&gt;</code> element <span style="color:red;" class="ph">within that section</span> is to be flagged with red text, <span style="color:red;" class="ph">the <code class="keyword markupname xmlelement">&lt;p&gt;</code> element</span> should
      be rendered with red text.</p>
 </div>
<nav role="navigation" class="related-links"><div class="linklist relref" lang="en-us"><strong>Related reference</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="Chunk1899933261.html#ditaval-val" title="The val element is the root element of a DITAVAL document.">DITAVAL markup with extended flagging example</a></li><li class="linklist"><a class="link" href="Chunk1899933261.html#ditaval-revprop" title="The revprop element in a DITAVAL document identifies a value of the rev attribute for flagging. Unlike the conditional processing attributes, which can be used for both filtering and flagging, the rev attribute can only be used for flagging.">DITAVAL markup for flagging revisions</a></li></ul></div></nav></article><article class="topic concept nested2 non-normative" aria-labelledby="ariaid-title11" lang="en-us" id="examples-of-condproc">
    <h3 class="title topictitle3" id="ariaid-title11">Examples of conditional processing</h3>
    <div class="body"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">This section provides examples that illustrate the ways that
        conditional processing attributes can be set and used.</p></div>
<nav role="navigation" class="related-links"><div class="linklist relref" lang="en-us"><strong>Related reference</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="Chunk1899933261.html#ditaval-val" title="The val element is the root element of a DITAVAL document.">DITAVAL markup with additional filtering and flagging examples</a></li></ul></div></nav><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title12" lang="en-us" id="example-condproc-values">
  <h4 class="title topictitle4" id="ariaid-title12">Example: Setting conditional processing values</h4>
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, conditional processing attributes are set in DITA
    content.</p>
    <div class="p">The following code sample illustrates how conditional processing attributes are set in DITA
      content.<pre class="pre codeblock"><code>&lt;p audience="administrator"&gt;Set the configuration options:
  &lt;ul&gt;
    &lt;li product="extendedProd"&gt;Set foo to bar&lt;/li&gt;
    &lt;li product="basicProd extendedProd"&gt;Set your blink rate&lt;/li&gt;
    &lt;li&gt;Do some other stuff&lt;/li&gt;
    &lt;li&gt;Do a special thing for Linux&lt;/li&gt;
  &lt;/ul&gt;
&lt;/p&gt;
</code></pre></div>
    <div class="p">In the example, <ul class="ul" id="example-condproc-values__ul_jg5_k1p_ysb">
        <li class="li">The entire paragraph and list of options applies to an audience of
            <span class="keyword">administrator</span>.</li>
        <li class="li">The first configuration item applies only to the <span class="keyword">extendedProd</span>
          product.</li>
        <li class="li">The second configuration option applies to both the <span class="keyword">baseProd</span> and
            <span class="keyword">extendedProd</span> products.</li>
      </ul>
    </div>
    <p class="p">When combined with a DITAVAL document, these attributes can be used as a way to filter or
      flag the content when it is rendered.</p>
  </div>
</article><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title13" lang="en-us" id="unique_1941261565">
  <h4 class="title topictitle4" id="ariaid-title13">Example: Simple DITAVAL document</h4>
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, a simple DITAVAL document sets up rules for filtering and flagging
    based on conditional processing attributes.</p>
    <p class="p">The following code sample illustrates a simple DITAVAL document that sets up two rules for
      filtering, and two rules for flagging.</p>
    <pre class="pre codeblock"><code>&lt;val&gt;
  &lt;prop action="exclude" att="audience" val="advanced"/&gt;
  &lt;prop action="exclude" att="product" val="myProductPrime"/&gt;
  &lt;prop action="flag" att="product" val="myProduct" backcolor="purple"/&gt;
  &lt;revprop action="flag" val="v1.2" backcolor="yellow"/&gt;
&lt;/val&gt;</code></pre>
    <div class="p">Based on those rules:<ol class="ol" id="unique_1941261565__ol_klp_n54_ysb">
        <li class="li">Any element with <code class="ph codeph">audience="advanced"</code> will be filtered and will not
          appear in the rendered content.</li>
        <li class="li">Any element with <code class="ph codeph">product="myProductPrime"</code> will be filtered and will not
          appear in the rendered content.</li>
        <li class="li">Any element with <code class="ph codeph">product="myProduct"</code> will be flagged with a purple
          background color.</li>
        <li class="li">Any element with <code class="ph codeph">rev="v1.2"</code> will be flagged with a yellow background
          color.</li>
        <li class="li">All other content will be rendered normally, because any other conditional processing
          attribute values default to <span class="keyword">include</span>.</li>
      </ol></div>
  </div>
</article><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title14" lang="en-us" id="unique_1198742768">
  <h4 class="title topictitle4" id="ariaid-title14">Example: Changing the default behavior to "exclude"</h4>
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, a simple DITAVAL document resets the default behavior for unspecified
    values to "exclude".</p>
    <p class="p">The following code sample illustrates a simple DITAVAL document that resets the default
      behavior to "exclude", and then defines two rules to include content.</p>
    <pre class="pre codeblock"><code>&lt;val&gt;
  <strong class="ph b">&lt;prop action="exclude"/&gt;</strong>
  &lt;prop action="include" att="audience" val="novice"/&gt;
  &lt;prop action="include" att="product" val="myProductPrime"/&gt;
&lt;/val&gt;</code></pre>
    <div class="p">Based on those rules:<ol class="ol" id="unique_1198742768__ol_klp_n54_ysb">
        <li class="li">Any element with <code class="ph codeph">audience="novice"</code> will be included and will appear in
          the rendered content.</li>
        <li class="li">Any element with <code class="ph codeph">product="myProductPrime"</code> will be included and will
          appear in the rendered content.</li>
        <li class="li">All other values in conditional processing attributes evaluate to
            <span class="keyword">exclude</span>.</li>
      </ol></div>
    <p class="p">As a result, any element with conditional processing attributes that do not match either
        <code class="ph codeph">audience="novice"</code> or <code class="ph codeph">product="myProductPrime"</code> will be
      filtered and will not appear in the rendered content.</p>
  </div>
</article><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title15" lang="en-us" id="unique_726489255">
  <h4 class="title topictitle4" id="ariaid-title15">Example: Flagging with <code class="keyword markupname xmlatt">@outputclass</code></h4>
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, the <code class="keyword markupname xmlatt">@outputclass</code> attribute in a DITAVAL document is
    used to enable CSS based flagging.</p>
    <p class="p">An additional expectation for this scenario is that the processor rendering DITA content
      preserves <code class="keyword markupname xmlatt">@outputclass</code> values as CSS <code class="keyword markupname xmlatt">@class</code> tokens in HTML5.
      For example, the phrase <code class="ph codeph">&lt;ph outputclass="bird"&gt;eagle&lt;/ph&gt;</code> might be
      rendered in HTML5 as <code class="ph codeph">&lt;span class="bird"&gt;eagle&lt;/span&gt;</code>.</p>
    <p class="p">The following code sample illustrates a simple DITAVAL document that sets up two rules for
      flagging using <code class="keyword markupname xmlatt">@outputclass</code>.</p>
    <pre class="pre codeblock"><code>&lt;val&gt;
  &lt;prop action="flag" att="product" val="myProduct" outputclass="myProductToken"/&gt;
  &lt;prop action="flag" att="product" val="myOtherProduct" outputclass="myOtherProductToken"/&gt;
&lt;/val&gt;</code></pre>
    <div class="p">Now, assume the following DITA content is processed using the rules from that DITAVAL
      document:<pre class="pre codeblock"><code>&lt;ol&gt;
  &lt;li&gt;This list item applies to all content&lt;/li&gt;
  &lt;li product="myProduct"&gt;This list item is specific to my product&lt;/li&gt;
  &lt;li product="myProduct" outputclass="example"&gt;This list item is an example of an edge case&lt;/li&gt;
  &lt;li product="myOtherProduct"&gt;This list item is specific to my OTHER product&lt;/li&gt;
  &lt;li product="myProduct myOtherProduct"&gt;This list item is specific to both of my products&lt;/li&gt;
&lt;/ol&gt;</code></pre></div>
    <div class="p">Based on the rules from that DITAVAL document, the topic content is processed as follows:<ol class="ol" id="unique_726489255__ol_lqn_3w4_ysb">
        <li class="li">The first item does not specify any conditional processing attributes, and is handled
          normally.</li>
        <li class="li">The second item specifies <code class="ph codeph">product="myProduct"</code>. Based on the DITAVAL
          document, this results in a setting on <code class="ph codeph">outputclass="myProductToken"</code>. The
          content is processed as if the original element was: <code class="ph codeph">&lt;li product="myProduct"
            outputclass="myProductToken"&gt;</code>.</li>
        <li class="li">The third item specifies <code class="ph codeph">product="myProduct"</code>, but already has an
            <code class="keyword markupname xmlatt">@outputclass</code> attribute specified in the source. Based on the DITAVAL
          document, the content is processed as if the original element was: <code class="ph codeph">&lt;li
            product="myProduct" outputclass="myOtherProductToken example"&gt;</code>. Note that the
          value supplied by the DITAVAL document is placed before any value already in the
          source.</li>
        <li class="li">The fourth item specifies <code class="ph codeph">product="myOtherProduct"</code>. Based on the
          DITAVAL document, this results in a setting on
            <code class="ph codeph">outputclass="myOtherProductToken"</code>. The content is processed as if the
          original element was: <code class="ph codeph">&lt;li product="myOtherProduct"
            outputclass="myOtherProductToken"&gt;</code>.</li>
        <li class="li">The fifth item specifies both products with <code class="ph codeph">product="myProduct
            myOtherProduct"</code>. Based on the DITAVAL document, this results in a setting of
          either <code class="ph codeph">outputclass="myProductToken myOtherProductToken"</code>
          <em class="ph i">or</em>
          <code class="ph codeph">outputclass="myOtherProductToken myProductToken"</code>. The order of the two
          tokens is unspecified; if a processor chooses the first, the content is processed as if
          the original element was: <code class="ph codeph">&lt;li product="myProduct myOtherProduct"
            outputclass="myProductToken myOtherProductToken"&gt;</code>.</li>
      </ol></div>
    <div class="p">With the expectation that the processor maps <code class="keyword markupname xmlatt">@outputclass</code> values onto the
      HTML <code class="keyword markupname xmlatt">@class</code> attribute, the rendered HTML5 result would look like
      this:<pre class="pre codeblock"><code>&lt;ol&gt;
  &lt;li&gt;This list item applies to all content&lt;/li&gt;
  &lt;li class="myProductToken"&gt;This list item is specific to my product&lt;/li&gt;
  &lt;li class="myProductToken example"&gt;This list item is an example of an edge case&lt;/li&gt;
  &lt;li class="myOtherProductToken"&gt;This list item is specific to my OTHER product&lt;/li&gt;
  &lt;li class="myProductToken myOtherProductToken"&gt;This list item is specific to both of my products&lt;/li&gt;
&lt;/ol&gt;</code></pre></div>
  </div>
</article><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title16" id="example_ditaval_groups">
    <h4 class="title topictitle4" id="ariaid-title16">Example: Filtering based on groups</h4>
    
    <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, groups are used for filtering within a conditional processing
        attribute.</p>
        <div class="p">The following code sample illustrates a list item that applies to two different types of
            product. It applies to one application server and two database
            applications:<pre class="pre codeblock" id="example_ditaval_groups__groupcodesample"><code>&lt;ol&gt;
  &lt;li&gt;Common step&lt;/li&gt;
  &lt;li product="appServer(mySERVER) database(dbOne dbOther)"&gt;
    &lt;ph&gt;Do something special for databases dbTwo or dbOther when installing on mySERVER&lt;/ph&gt;
  &lt;/li&gt;
  &lt;!-- additional list items --&gt;
&lt;/ol&gt;</code></pre></div>
        <p class="p">If a publisher decides to exclude the application server <span class="keyword">mySERVER</span>,
            then the <code class="ph codeph">appServer()</code> group evaluates to exclude. This can be done by
            setting <code class="ph codeph">product="mySERVER"</code> to exclude <em class="ph i">or</em> by setting
                <code class="ph codeph">appServer="mySERVER"</code> to exclude. This means the item is excluded,
            regardless of how the values <span class="keyword">dbOne</span> or <span class="keyword">dbOther</span>
            evaluate. If a rule is specified for both <code class="ph codeph">product="mySERVER"</code> and
                <code class="ph codeph">appServer="mySERVER"</code>, the rule for the more specific group name
            "appServer" takes precedence.</p>
        <p class="p">Similarly, if both <span class="keyword">dbOne</span> and <span class="keyword">dbOther</span> evaluate to
            exclude, then the <code class="ph codeph">database()</code> group evaluates to exclude and the element
            is excluded regardless of how the "mySERVER" value is set.</p>
        <div class="p">In more advanced usage, a DITAVAL can be used to specify a rule for a group name. For
            example, an author could create a DITAVAL rule that sets
                <code class="ph codeph">product="database"</code> to "exclude". This is equivalent to setting a
            default of "exclude" for any individual value in a <code class="ph codeph">database()</code> group; it
            also excludes the more common usage of "database" as a single value within the
                <code class="keyword markupname xmlatt">@product</code> attribute. Thus when "myDB" appears in a
                <code class="ph codeph">database()</code> group within the <code class="keyword markupname xmlatt">@product</code> attribute, the
            full precedence for determining whether to include or exclude the value is as
                follows:<ol class="ol" id="example_ditaval_groups__ol_dpb_tz4_ysb">
                <li class="li">Check for a DITAVAL rule for <code class="ph codeph">database="dbOne"</code></li>
                <li class="li">Check for a DITAVAL rule for <code class="ph codeph">product="dbOne"</code></li>
                <li class="li">Check for a DITAVAL rule for <code class="ph codeph">product="database"</code> (default for
                    the database group)</li>
                <li class="li">Check for a DITAVAL rule for "product" (default for the <code class="keyword markupname xmlatt">@product</code>
                    attribute)</li>
                <li class="li">Check for a default rule for all conditions (default of include or exclude for
                    all attributes)</li>
                <li class="li">Otherwise, evaluate to "include"</li>
            </ol></div>
    </div>
</article><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title17" lang="en-us" id="evaluating-conditional-processing-attributes">
 <h4 class="title topictitle4" id="ariaid-title17">Example: Filtering and flagging topic content</h4>
 
 <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this scenario, a publisher wants to flag information that applies to administrators
    and exclude information that applies to the extended product.</p>
  <p class="p">Consider the following DITA source fragment and conditional processing profile:</p>
    <figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 1. </span>DITA source fragment</figcaption>
      
      <pre class="pre codeblock"><code>&lt;p audience="administrator"&gt;Set the configuration options:
  &lt;ul&gt;
    &lt;li product="extendedProd"&gt;Set foo to bar&lt;/li&gt;
    &lt;li product="basicProd extendedProd"&gt;Set your blink rate&lt;/li&gt;
    &lt;li&gt;Do some other stuff&lt;/li&gt;
    &lt;li&gt;Do a special thing for Linux&lt;/li&gt;
  &lt;/ul&gt;
&lt;/p&gt;</code></pre>
    </figure>
    <figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 2. </span>DITAVAL profile</figcaption>
      
      <pre class="pre codeblock"><code>&lt;val&gt;
  &lt;prop att="audience" val="administrator" action="flag"&gt;
    &lt;startflag&gt;&lt;alt-text&gt;ADMIN&lt;/alt-text&gt;&lt;/startflag&gt;
  &lt;/prop&gt;
  &lt;prop att="product" val="extendedProd" action="exclude"/&gt;
&lt;/val&gt;</code></pre>
    </figure>
  <p class="p">When the content is rendered, the paragraph is flagged, and the first list item is excluded
      (since it applies to extendedProd). The second list item is still included; even though it
      does apply to extendedProd, it also applies to basicProd, which was not excluded.</p>
    
  <div class="p">The result will look something like the following: <figure class="fig fignone">
        <div class="p"><strong class="ph b">ADMIN</strong> Set the configuration options: <ul class="ul">
            <li class="li">Set your blink rate</li>
            <li class="li">Do some other stuff </li>
            <li class="li">Do a special thing for Linux</li>
          </ul></div>
      </figure></div>
 </div>
</article><article class="topic concept nested3 non-normative" aria-labelledby="ariaid-title18" lang="en-us" id="unique_100173524">
  <h4 class="title topictitle4" id="ariaid-title18">Example: Simple DITAVAL document</h4>
  
  <div class="body conbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">A DITAVAL document can reference tokens that pull in additional topics from a subject
    scheme.</p>
    
  </div>
</article><article class="topic reference nested3 non-normative" aria-labelledby="ariaid-title19" id="example-ditaval-with-conditions-for-groups">
    <h4 class="title topictitle4" id="ariaid-title19">Example: DITAVAL with conditions for groups</h4>
    
    <div class="body refbody"><p class="non-normative-label">This section is non-normative.</p><p class="shortdesc">In this advanced scenario, grouped values are used for filtewring within a
    conditional processing attribute.</p>
    <div class="example non-normative" id="d570171e1665"><h5 class="title sectiontitle">Example</h5><p class="non-normative-label">This section is non-normative.</p>
      <figure class="fig fignone">
        <pre class="pre codeblock"><code>&lt;val&gt;
   &lt;prop action="exclude" att="product" val="appserver"/&gt;
   &lt;prop action="include" att="product" val="mySERVER"/&gt;
   &lt;prop action="include" att="database" val="dbFIRST"/&gt;
   &lt;prop action="include" att="database" val="dbSECOND"/&gt;
   &lt;prop action="exclude" att="database" val="newDB"/&gt;
&lt;/val&gt;</code></pre>
        <div class="p">Assume that "database" and "appServer" are used as group names
          within the <code class="keyword markupname xmlatt">@product</code> attribute. In that case, the
          sample DITAVAL above performs the following actions:<ul class="ul">
            <li class="li">The first <code class="keyword markupname xmlelement">&lt;prop&gt;</code> element excludes
              the value "appServer" when used within the
                <code class="keyword markupname xmlatt">@product</code> attribute. It also sets a default
              of "exclude" for values within any appServer() group inside
              of the <code class="keyword markupname xmlatt">@product</code> attribute.</li>
            <li class="li">The second <code class="keyword markupname xmlelement">&lt;prop&gt;</code> element sets
              "mySERVER" to include; this applies whether "mySERVER"
              appears alone in the <code class="keyword markupname xmlatt">@product</code> attribute
                (<code class="ph codeph">product="mySERVER"</code>) or inside of any
              group (<code class="ph codeph">product="appServer(mySERVER)"</code> or
                <code class="ph codeph">product="otherGroup(mySERVER)"</code>).</li>
            <li class="li">The third and fourth <code class="keyword markupname xmlelement">&lt;prop&gt;</code> elements
              set the database values "dbFIRST" and "dbSECOND" to include.
              If those values appear inside of a "database" group, they are
              explicitly set to "include". If they appear elsewhere in a
              conditional attribute (such as
                <code class="ph codeph">product="dbFIRST"</code> or
                <code class="ph codeph">platform="dbSECOND"</code>), this rule does not
              apply.</li>
            <li class="li">The final <code class="keyword markupname xmlelement">&lt;prop&gt;</code> element sets the
              database value "newDB" to exclude. If that value appears
              inside of a database group, it is explicitly set to
              "exclude". If it appears in any other group or attribute,
              this rule does not apply.</li>
          </ul></div>
        <div class="p">Remember that with groups, if all values inside of a single
          group evaluate to "exclude", that is equivalent to an entire
          attribute evaluating to "exclude", which results in the removal
          of the content. Using the above sample DITAVAL:<ul class="ul">
            <li class="li"><code class="ph codeph">&lt;p product="appServer"&gt;</code> is filtered
              out, because this value is excluded.</li>
            <li class="li"><code class="ph codeph">&lt;p product="appServer(A B)"&gt;</code> is
              filtered out, because there is no explicit rule for A or B,
              and values in the "appServer" group inside of
                <code class="keyword markupname xmlatt">@product</code> default to exclude.</li>
            <li class="li"><code class="ph codeph">&lt;p product="appServer(A B mySERVER)"&gt;</code>
              is included, because <code class="ph codeph">product="mySERVER"</code>
              evaluates to "include", which means the entire group
              evaluates to "include".</li>
            <li class="li"><code class="ph codeph">&lt;p product="newDB"&gt;</code> is included,
              because no rule in the DITAVAL applies, so the "newDB" token
              defaults to "include".</li>
            <li class="li"><code class="ph codeph">&lt;p product="database(newDB)"&gt;</code> is
              filtered out, because the token "newDB" is excluded when
              found in the database group.</li>
            <li class="li"><code class="ph codeph">&lt;p product="database(dbFIRST dbSECOND
                newDB)"&gt;</code> is included, because both "dbFIRST" and
              "dbSECOND" are included, so the group evaluates to
              include.</li>
            <li class="li"><code class="ph codeph">&lt;p product="database(newDB)
                appserver(mySERVER)"&gt;</code> is filtered out, because the
              token "newDB" is excluded when found in the database group.
              The entire "database" group on this paragraph evaluates to
              "exclude", so the element is excluded, regardless of how the
              "appServer" group evaluates.</li>
          </ul></div>
        <div class="note note note_note non-normative"><span class="note__title">Note<span class="non-normative-label"> (non-normative)</span>:</span> <div class="note__body">If two groups with the same name exist on different
          attributes, each group will evaluate the same way. For example,
          rules for the database group in this sample would evaluate the
          same whether the group is used within <code class="keyword markupname xmlatt">@product</code> or
            <code class="keyword markupname xmlatt">@platform</code>. See <a class="xref" href="Chunk2014704668.html#condproc" title="Conditional processing is the filtering or flagging of information based on processing-time criteria. Conditional processing is based on attributes specified in the DITA source.">Conditional processing</a> for
          suggestions on how to handle similar groups on different
          attributes.</div></div>
      </figure>
    </div>
  </div>
</article></article></article></article><aside class="section-toc" role="aside"></aside></article></main>
