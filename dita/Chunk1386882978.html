---
layout: base.njk
title: ''
index: 'toc.html'
notices: 'resources/oasis-notices.html'
commit: '243896ef3870f480d9fcc58f5e2afb91c6dc5f00'
repository: 'oasis-tcs/dita'
classes: ''
---

<nav class="toc" role="toc"><ul><li><a href="introduction/dita-release-overview.html">Introduction</a></li><li><a href="archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="archSpec/base/accessibility-and-translation.html">Accessibility and translation</a></li><li><a href="archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="archSpec/base/behaviors.html">DITA processing</a></li><li><a href="archSpec/base/configuration-specialization-and-constraints.html">Configuration and specialization </a><ul class="nav nav-list"><li><a href="archSpec/base/ditaspecialization.html#ditaspecialization">Overview of DITA extension facilities</a></li><li><a href="Chunk465434044.html#Chunk465434044">Configuration</a></li><li><a href="Chunk402813222.html#Chunk402813222">Specialization</a></li><li><a href="Chunk2109556090.html#Chunk2109556090">Generalization</a></li><li class="active"><a href="Chunk1386882978.html#Chunk1386882978">Constraints</a><ul class="nav nav-list"><li><a href="Chunk1386882978.html#concept_sv4_2gm_vp">Constraints</a></li></ul></li><li><a href="Chunk927930683.html#Chunk927930683">Expansion modules</a></li></ul></li><li><a href="langRef/langRef-base.html">Element reference</a></li><li><a href="conformance/conformance.html">Conformance</a></li><li><a href="acknowledgments/acknowledgments.html#r-acknowledgments">Acknowledgments</a></li><li><a href="non-normative/aggregated-RFC-2119-statements.html#aggregated-RFC-2119-statements">Aggregated RFC-2119 statements</a></li><li><a href="archSpec/base/coding-requirements.html#coding-practices">Coding practices for DITA grammar files</a></li><li><a href="non-normative/developing-constraint-and-expansion-modules.html#developing-constraint-and-expansion-modules">Constraint modules</a></li><li><a href="non-normative/expansion-modules.html#expansion-modules">Expansion modules</a></li><li><a href="non-normative/elementsMerged.html#elements">Element-by-element recommendations for translators</a></li><li><a href="non-normative/formatting-expectations.html#formatting-expectations">Formatting expectations</a></li><li><a href="non-normative/migrating-to-dita-2.0.html#migrating-to-dita-2.0">Migrating to DITA 2.0</a></li><li><a href="non-normative/basedoctypes.html#oasisdomains">OASIS grammar files</a></li><li><a href="non-normative/interoperability-considerations.html#nteroperability-considerations">Processing interoperability considerations</a></li><li><a href="non-normative/revision-history.html#revision-history">Revision history</a></li></ul></nav><main role="main" class=""><article role="article" aria-labelledby="ariaid-title1"><article class="nested0" aria-labelledby="ariaid-title1" id="Chunk1386882978"><h1 class="title topictitle1" id="ariaid-title1">Constraints</h1><nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="archSpec/base/configuration-specialization-and-constraints.html" title="The extension facilities of DITA allow document-type shells, vocabulary modules, and element-configuration modules (constraint and expansion) to be combined to create specific DITA document types.">Configuration and specialization</a></div></div></nav><article class="topic concept nested1" aria-labelledby="ariaid-title2" lang="en-us" id="concept_sv4_2gm_vp">
 <h2 class="title topictitle2" id="ariaid-title2">Constraints</h2>
 <div class="body"><p class="shortdesc"><span class="ph">Constraint modules
          restrict
          content models or attribute lists for specific element types,
          remove certain extension elements from an integrated domain
          module, or replace base element types with domain-provided,
          extension element types.</span></p></div>
<article class="topic concept nested2" aria-labelledby="ariaid-title3" lang="en-us" id="unique_2030733378">
 <h3 class="title topictitle3" id="ariaid-title3">Overview of constraints</h3>
 
 
 <div class="body conbody"><p class="shortdesc">Constraint modules enable information architects to restrict the content models or
  attributes of DITA elements. A constraint is a simplification of an XML grammar such that any
  instance that conforms to the constrained grammar also will conform to the original
  grammar.</p>
  <p class="p">A constraint module can perform the following functions:</p>
  <dl class="dl">
   
    <dt class="dt dlterm">Restrict the content model for an element</dt>
    <dd class="dd">Constraint modules can modify content models by removing optional elements, making optional
     elements required, or requiring unordered elements to occur in a specific sequence. Constraint
     modules cannot make required elements optional or change the order of element occurrence for
     ordered elements.<p class="p example">For example, a constraint for
       <code class="keyword markupname xmlelement">&lt;topic&gt;</code> can require <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code>, can remove
       <code class="keyword markupname xmlelement">&lt;abstract&gt;</code>, and can require that the first child of
       <code class="keyword markupname xmlelement">&lt;body&gt;</code> be <code class="keyword markupname xmlelement">&lt;p&gt;</code>. A constraint cannot allow
       <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> to follow <code class="keyword markupname xmlelement">&lt;prolog&gt;</code>, because the
      content model for <code class="keyword markupname xmlelement">&lt;topic&gt;</code>
      <span class="ph">requires that <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> precedes
        <code class="keyword markupname xmlelement">&lt;prolog&gt;</code>.</span></p></dd>
   
   
    <dt class="dt dlterm">Restrict the attributes that are available on an element</dt>
    <dd class="dd">
     <p class="p">Constraint modules can restrict the attributes that are available on an element. They also
      can limit the set of permissible values for an attribute.</p>
     <p class="p example">For example, a constraint for <code class="keyword markupname xmlelement">&lt;note&gt;</code> can limit
      the set of allowed values for the <code class="keyword markupname xmlatt">@type</code> attribute to "note" and "tip". It also
      can omit the <code class="keyword markupname xmlatt">@othertype</code> attribute, since it is needed only when the value of
      the <code class="keyword markupname xmlatt">@type</code> attribute is "other".</p>
    </dd>
   
   
    <dt class="dt dlterm">Restrict the elements that are available in a domain</dt>
    <dd class="dd">
     <p class="p">Constraint modules can restrict the set of extension elements that are provided in a domain.
      They also can restrict the content models for the extension elements.</p>
     <p class="p example">For example, a constraint on the programming domain can reduce the
      list of included extension elements to <code class="keyword markupname xmlelement">&lt;codeph&gt;</code> and
       <code class="keyword markupname xmlelement">&lt;codeblock&gt;</code>.</p>
     <div class="note note note_note non-normative"><span class="note__title">Note<span class="non-normative-label"> (non-normative)</span>:</span> <div class="note__body">For DITA implementations that use RNG-based grammar
              <span style="color:red;" class="ph">files</span>, restricting the set of
            extension elements that are provided in a domain can be handled
            simply by document-type configuration.</div></div>
    </dd>
   
   
    <dt class="dt dlterm">Replace base elements with  domain extensions</dt>
    <dd class="dd">Constraint modules can replace base element types with the domain-provided extension
      elements.<p class="p">For example, a constraint module can replace the <code class="keyword markupname xmlelement">&lt;ph&gt;</code>
      element with the domain-provided elements, making <code class="keyword markupname xmlelement">&lt;ph&gt;</code>
     unavailable.</p></dd>
   
  </dl>
 </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title4" lang="en-us" id="concept_ycp_3jm_vp">
 <h3 class="title topictitle3" id="ariaid-title4">Constraint rules</h3>
 
 
 <div class="body conbody"><p class="shortdesc">There are certain rules that apply to the design and implementation of
  constraints.</p>
  <dl class="dl">
   
    <dt class="dt dlterm">Content model</dt>
    <dd class="dd">
     <p class="p">The content model for a constrained element must be at least as restrictive as the
      unconstrained content model for the element.
      </p>
     
    </dd>
   
   
    <dt class="dt dlterm">Domain constraints</dt>
    <dd class="dd">
     <p class="p">When a domain module is integrated into a document-type shell, the base domain element can
      be omitted from the domain extension group or parameter entity. In such a case, there is no
      separate constraint declaration, because the content model is configured directly in the
      document-type shell.</p>
     <p class="p">A domain module can be constrained by only one constraint module. This means that all
      restrictions for the extension elements that are defined in the domain must be contained
      within that one constraint module.</p>
    </dd>
   
   
    <dt class="dt dlterm">Structural constraints</dt>
    <dd class="dd">
     <p class="p">Each constraint module can constrain elements from only one vocabulary module. For example,
      a single constraint module that constrains <code class="keyword markupname xmlelement">&lt;refsyn&gt;</code> from
       <span class="ph filepath">reference.mod</span> and constrains <code class="keyword markupname xmlelement">&lt;context&gt;</code> from
       <span class="ph filepath">task.mod</span> is not allowed. This rule maintains granularity of reuse at the
      module level.</p>
     <p class="p">Constraint modules that restrict different elements from within the same vocabulary module
      can be combined with one another. Such combinations of constraints on a single vocabulary
      module have no meaningful order or precedence.</p>
    </dd>
   
      
          <dt class="dt dlterm">Aggregation of constraint modules</dt>
          <dd class="dd">
            <p class="p">The content model of an element can be modified by either of
              the following element-configuration modules:</p>
            <ul class="ul">
              <li class="li">Constraint module</li>
              <li class="li">Expansion module</li>
            </ul>
            <p class="p"><span style="color:red;" class="ph">For any document-type shell, the</span>
              content model of an element can only be modified by a single
              element-type configuration module. If multiple constraints or
              extensions need to be applied to a single element, the
              element configurations must be combined into a single module
              that reflects all the constraints and expansions that were
              defined in the original separate modules.</p>
          </dd>
        
  </dl>
 </div>
</article><article class="topic concept nested2" aria-labelledby="ariaid-title5" lang="en-us" id="concept_nqd_ys5_kq">
 <h3 class="title topictitle3" id="ariaid-title5">Constraints, processing, and interoperability</h3>
 
 
 <div class="body conbody"><p class="shortdesc">Because constraints can make optional elements required, documents that use the same
  vocabulary modules might have incompatible constraints. Thus the use of constraints can affect the
  ability for content from one topic or map to be used in another topic or map.</p>
  <p class="p">A constraint does not change basic or inherited element semantics. The constrained instances
   remain valid instances of the unconstrained element type, and the element type retains the same
   semantics and <code class="keyword markupname xmlatt">@class</code> attribute declaration. Thus, a constraint never creates a
   new case to which content processing might need to react. </p>
  <p class="p example">For example, a document type constrained to
      require the <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> element allows a
      subset of the possible instances of the unconstrained document type
      with an optional <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> element. Thus,
      the content processing for topic still works when
        <code class="keyword markupname xmlelement">&lt;topic&gt;</code> is constrained to require a short
      description. <span style="color:red;" class="ph">Similarly, </span>an unconstrained task
      is compatible with an unconstrained topic, because the
        <code class="keyword markupname xmlelement">&lt;task&gt;</code> element can be generalized to
        <code class="keyword markupname xmlelement">&lt;topic&gt;</code>. </p>
  <p class="p example">However, if a topic <span style="color:red;" class="ph">document
        type</span> is constrained to require the
        <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> element, a document type with an
      unconstrained task is not compatible with the constrained topic
      document type, because some instances of the task might not have a
        <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> element. <span style="color:red;" class="ph">But</span>, if the task document type also has been constrained to
      require the <code class="keyword markupname xmlelement">&lt;shortdesc&gt;</code> element, it is
      compatible with the constrained topic document type. </p>
 </div>
</article></article></article><aside class="section-toc" role="aside"></aside></article></main>
